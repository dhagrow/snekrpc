<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="generator" content="mkdocs-1.6.1, mkdocs-terminal-4.7.0">
     
     
    <link rel="icon" type="image/png" sizes="192x192" href="../img/android-chrome-192x192.png" />
<link rel="icon" type="image/png" sizes="512x512" href="../img/android-chrome-512x512.png" />
<link rel="apple-touch-icon" sizes="180x180" href="../img/apple-touch-icon.png" />
<link rel="shortcut icon" type="image/png" sizes="48x48" href="../img/favicon.ico" />
<link rel="icon" type="image/png" sizes="16x16" href="../img/favicon-16x16.png" />
<link rel="icon" type="image/png" sizes="32x32" href="../img/favicon-32x32.png" />


    
 
<title>API - snekrpc docs</title>


<link href="../css/fontawesome/css/fontawesome.min.css" rel="stylesheet">
<link href="../css/fontawesome/css/solid.min.css" rel="stylesheet">
<link href="../css/normalize.css" rel="stylesheet">
<link href="../css/terminal.css" rel="stylesheet">
<link href="../css/theme.css" rel="stylesheet">
<link href="../css/theme.tile_grid.css" rel="stylesheet">
<link href="../css/theme.footer.css" rel="stylesheet">
<!-- dark color palette -->
<link href="../css/palettes/dark.css" rel="stylesheet">

<!-- page layout -->
<style>
/* initially set page layout to a one column grid */
.terminal-mkdocs-main-grid {
    display: grid;
    grid-column-gap: 1.4em;
    grid-template-columns: auto;
    grid-template-rows: auto;
}

/*  
*   when side navigation is not hidden, use a two column grid.  
*   if the screen is too narrow, fall back to the initial one column grid layout.
*   in this case the main content will be placed under the navigation panel. 
*/
@media only screen and (min-width: 70em) {
    .terminal-mkdocs-main-grid {
        grid-template-columns: 4fr 9fr;
    }
}</style>

<!-- link underline override -->
<style>
#terminal-mkdocs-main-content a:not(.headerlink){
    text-decoration: none;
}
</style>

    
    <link href="../assets/_mkdocstrings.css" rel="stylesheet"> 
    <link href="../stylesheets/extra.css" rel="stylesheet">  
    
    

    
    <!-- search css support -->
<link href="../css/search/bootstrap-modal.css" rel="stylesheet">
<!-- search scripts -->
<script>
    var base_url = "..",
    shortcuts = "{}";
</script>
<script src="../js/jquery/jquery-1.10.1.min.js" defer></script>
<script src="../js/bootstrap/bootstrap.min.js" defer></script>
<script src="../js/mkdocs/base.js" defer></script>
    
    
    
    
    <script src="../search/main.js"></script>
    

    
</head>

<body class="terminal"><div class="container">
    <div class="terminal-nav">
        <header class="terminal-logo">
            <div id="mkdocs-terminal-site-name" class="logo terminal-prompt"><a href="/" class="no-style">snekrpc docs</a></div>
        </header>
        
        <nav class="terminal-menu">
            
            <ul vocab="https://schema.org/" typeof="BreadcrumbList">
                
                
                <li property="itemListElement" typeof="ListItem">
                    <a href=".." class="menu-item " property="item" typeof="WebPage">
                        <span property="name">Home</span>
                    </a>
                    <meta property="position" content="0">
                </li>
                
                
                
                
                
                    
                    


<li property="itemListElement" typeof="ListItem">
    <a href="#" class="menu-item" data-toggle="modal" data-target="#mkdocs_search_modal" property="item" typeof="SearchAction">
        <i aria-hidden="true" class="fa fa-search"></i> <span property="name">Search</span>
    </a>
    <meta property="position" content="1">
</li>
                    
            </ul>
            
        </nav>
    </div>
</div>
        
    <div class="container">
        <div class="terminal-mkdocs-main-grid"><aside id="terminal-mkdocs-side-panel"><nav>
  
    <ul class="terminal-mkdocs-side-nav-items">
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="..">Home</a>
        
    
    
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
        
        

        
            
    
        
        
            
            
            <span class="
        
    

    terminal-mkdocs-side-nav-item terminal-mkdocs-side-nav-section-no-index">Guides</span>
        
    
    
        
      
        
            <ul class="terminal-mkdocs-side-nav-li-ul">
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../server/">Server</a>
        
    
    </li>
            
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../client/">Client</a>
        
    
    </li>
            
            
    </ul>
        
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
        
        

        
            
    
        
        <span class="
        
    

    terminal-mkdocs-side-nav-item--active terminal-mkdocs-side-nav-section-no-index">Reference</span>
    
    
        
      
        
            <ul class="terminal-mkdocs-side-nav-li-ul">
        
            
            

             
                <li class="terminal-mkdocs-side-nav-li-ul-li">
    
        
        <span class="

    terminal-mkdocs-side-nav-item--active">API</span>
    
    </li>
            
            
    </ul>
        
    
  </li>
        
    </ul>
  
</nav><hr>
<nav>
    <ul>
        <li><a href="#api-reference">API Reference</a></li>
        <li><a href="#snekrpc.interface">interface</a></li><li><a href="#snekrpc.interface.Server">Server</a></li><li><a href="#snekrpc.service">service</a></li><li><a href="#snekrpc.service.ServiceProxy">ServiceProxy</a></li><li><a href="#snekrpc.service.ServiceSpec">ServiceSpec</a></li><li><a href="#snekrpc.service.StreamInitiator">StreamInitiator</a></li><li><a href="#snekrpc.service.wrap_call">wrap_call</a></li><li><a href="#snekrpc.transport">transport</a></li><li><a href="#snekrpc.transport.Connection">Connection</a></li><li><a href="#snekrpc.transport.Transport">Transport</a></li><li><a href="#snekrpc.transport.create">create</a></li><li><a href="#snekrpc.codec">codec</a></li><li><a href="#snekrpc.codec.Codec">Codec</a></li><li><a href="#snekrpc.formatter">formatter</a></li><li><a href="#snekrpc.formatter.Formatter">Formatter</a></li><li><a href="#snekrpc.cli">cli</a></li><li><a href="#snekrpc.cli.Parser">Parser</a></li><li><a href="#snekrpc.cli.io_stat_mode">io_stat_mode</a></li><li><a href="#snekrpc.cli.main">main</a></li><li><a href="#snekrpc.cli.parse_alias">parse_alias</a></li>
    </ul>
</nav>
</aside>
            <main id="terminal-mkdocs-main-content">
<section id="mkdocs-terminal-content">
    <h1 id="api-reference">API Reference<a class="headerlink" href="#api-reference" title="Permanent link">&para;</a></h1>


<div class="doc doc-object doc-module">



<a id="snekrpc.interface"></a>
    <div class="doc doc-contents first">










<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="snekrpc.interface.Server" class="doc doc-heading">
            <code>Server</code>


<a href="#snekrpc.interface.Server" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="snekrpc.interface.Interface">Interface</span></code></p>










              <details class="mkdocstrings-source">
                <summary>Source code in <code>snekrpc/interface.py</code></summary>
                <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">105</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">106</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">107</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">108</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">109</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">110</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">111</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">112</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">113</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">114</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">115</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">116</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">117</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">118</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">119</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">120</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">121</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">122</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">123</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">124</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">125</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">126</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">127</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">128</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">129</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">130</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">131</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">132</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">133</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">134</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">135</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">136</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">137</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">138</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">139</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">140</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">141</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">142</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">143</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">144</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">145</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">146</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">147</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">148</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">149</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">150</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">151</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">152</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">153</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">154</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">155</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">156</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">157</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">158</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">class</span><span style="color: #D4D2C8"> </span><span style="color: #73D0FF">Server</span><span style="color: #D4D2C8">(Interface):</span>
    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__init__</span><span style="color: #D4D2C8">(</span>
        <span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">transport:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #D4D2C8">Transport</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">codec:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #D4D2C8">Any</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">version:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">remote_tracebacks:</span> <span style="color: #FFD173">bool</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">False</span><span style="color: #D4D2C8">,</span>
    <span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
        <span style="color: #FFD173">super</span><span style="color: #D4D2C8">()</span><span style="color: #FFAD66">.</span><span style="color: #FFD173">__init__</span><span style="color: #D4D2C8">(transport,</span> <span style="color: #D4D2C8">codec</span> <span style="color: #FFAD66">or</span> <span style="color: #D4D2C8">DEFAULT_CODEC)</span>
        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_services:</span> <span style="color: #FFD173">dict</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Service]</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">{}</span>
        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_service(create_service(</span><span style="color: #D5FF80">&#39;meta&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">server</span><span style="color: #FFAD66">=</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">),</span> <span style="color: #D4D2C8">name</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;_meta&#39;</span><span style="color: #D4D2C8">)</span>
        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">version</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">version</span>
        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">remote_tracebacks</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">remote_tracebacks</span>

        <span style="color: #D4D2C8">log</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">info(</span><span style="color: #D5FF80">&#39;server version: </span><span style="color: #95E6CB">%s</span><span style="color: #D5FF80">&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">version</span> <span style="color: #FFAD66">or</span> <span style="color: #D5FF80">&#39;-&#39;</span><span style="color: #D4D2C8">)</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">serve</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
        <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
            <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">transport</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">serve(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">)</span>
        <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">Exception</span> <span style="color: #FFAD66">as</span> <span style="color: #D4D2C8">exc:</span>
            <span style="color: #FFAD66">raise</span> <span style="color: #D4D2C8">errors</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">TransportError(exc)</span> <span style="color: #FFAD66">from</span><span style="color: #D4D2C8"> exc</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">handle</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">con:</span> <span style="color: #D4D2C8">Connection)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
        <span style="color: #D4D2C8">protocol</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Protocol(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">con)</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">handle()</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">stop</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">transport</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">stop()</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">join</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">timeout:</span> <span style="color: #FFD173">float</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">transport</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">join(timeout)</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">add_service</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">service:</span> <span style="color: #D4D2C8">Service,</span> <span style="color: #D4D2C8">name:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Server:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Register a service with the server.</span>

<span style="color: #7E8AA1">        You can register a service but keep it hidden from users by prefixing</span>
<span style="color: #7E8AA1">        the name with an underscore.</span>
<span style="color: #7E8AA1">        &quot;&quot;&quot;</span>
        <span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">or</span> <span style="color: #D4D2C8">SERVICE_REGISTRY</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_name(</span><span style="color: #FFD173">type</span><span style="color: #D4D2C8">(service))</span>
        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_services[name]</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">service</span>
        <span style="color: #D4D2C8">log</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">debug(</span><span style="color: #D5FF80">&#39;service added: </span><span style="color: #95E6CB">%s</span><span style="color: #D5FF80">&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">name)</span>
        <span style="color: #FFAD66">return</span> <span style="color: #5CCFE6">self</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">remove_service</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">name:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Server:</span>
        <span style="color: #FFAD66">del</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_services[name]</span>
        <span style="color: #FFAD66">return</span> <span style="color: #5CCFE6">self</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">service</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">name:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Service:</span>
        <span style="color: #FFAD66">return</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_services[name]</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">services</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">list</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">tuple</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Service]]:</span>
        <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">[(name,</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">service(name))</span> <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">in</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">service_names()]</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">service_names</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">list</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">]:</span>
        <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">[name</span> <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">in</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_services</span> <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">and</span> <span style="color: #FFAD66">not</span> <span style="color: #D4D2C8">name</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">startswith(</span><span style="color: #D5FF80">&#39;_&#39;</span><span style="color: #D4D2C8">)]</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="snekrpc.interface.Server.add_service" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">add_service(service,</span> <span style="color: #D4D2C8">name</span><span style="color: #FFAD66">=None</span><span style="color: #D4D2C8">)</span></code>

<a href="#snekrpc.interface.Server.add_service" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Register a service with the server.</p>
<p>You can register a service but keep it hidden from users by prefixing
the name with an underscore.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/interface.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">136</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">137</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">138</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">139</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">140</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">141</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">142</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">143</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">144</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">145</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">add_service</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">service:</span> <span style="color: #D4D2C8">Service,</span> <span style="color: #D4D2C8">name:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Server:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Register a service with the server.</span>

<span style="color: #7E8AA1">    You can register a service but keep it hidden from users by prefixing</span>
<span style="color: #7E8AA1">    the name with an underscore.</span>
<span style="color: #7E8AA1">    &quot;&quot;&quot;</span>
    <span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">or</span> <span style="color: #D4D2C8">SERVICE_REGISTRY</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_name(</span><span style="color: #FFD173">type</span><span style="color: #D4D2C8">(service))</span>
    <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_services[name]</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">service</span>
    <span style="color: #D4D2C8">log</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">debug(</span><span style="color: #D5FF80">&#39;service added: </span><span style="color: #95E6CB">%s</span><span style="color: #D5FF80">&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">name)</span>
    <span style="color: #FFAD66">return</span> <span style="color: #5CCFE6">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="snekrpc.service"></a>
    <div class="doc doc-contents first">

        <p>Service base classes and helpers.</p>










<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="snekrpc.service.ServiceProxy" class="doc doc-heading">
            <code>ServiceProxy</code>


<a href="#snekrpc.service.ServiceProxy" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">



        <p>Client-side helper that exposes remote commands as callables.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>snekrpc/service/__init__.py</code></summary>
                <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">53</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">54</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">55</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">56</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">57</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">58</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">59</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">60</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">61</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">62</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">63</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">64</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">65</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">66</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">67</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">68</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">69</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">70</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">71</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">72</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">73</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">74</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">75</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">76</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">77</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">78</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">79</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">80</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">81</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">82</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">83</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">84</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">85</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">86</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">87</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">88</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">89</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">90</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">91</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">92</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">93</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">94</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">class</span><span style="color: #D4D2C8"> </span><span style="color: #73D0FF">ServiceProxy</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Client-side helper that exposes remote commands as callables.&quot;&quot;&quot;</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__init__</span><span style="color: #D4D2C8">(</span>
        <span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">name:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">client:</span> <span style="color: #D4D2C8">Client,</span>
        <span style="color: #D4D2C8">command_metadata:</span> <span style="color: #FFD173">bool</span> <span style="color: #FFAD66">|</span> <span style="color: #D4D2C8">Sequence[utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">function</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">SignatureSpec]</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">True</span><span style="color: #D4D2C8">,</span>
    <span style="color: #D4D2C8">):</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Cache remote service metadata and wrap remote commands.</span>

<span style="color: #7E8AA1">        When `command_metadata` is `True`, metadata will be loaded from the</span>
<span style="color: #7E8AA1">        remote metadata service. When `False`, no metadata will be loaded.</span>
<span style="color: #7E8AA1">        Otherwise, a sequence of command metadata can be provided directly.</span>
<span style="color: #7E8AA1">        &quot;&quot;&quot;</span>
        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_svc_name</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">name</span>
        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_client</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">client</span>
        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_commands:</span> <span style="color: #FFD173">dict</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Callable[</span><span style="color: #FFAD66">...</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Any]]</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">{}</span>

        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_retry</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">retry</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Retry(</span>
            <span style="color: #D4D2C8">client</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">retry_count,</span> <span style="color: #D4D2C8">client</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">retry_interval,</span> <span style="color: #D4D2C8">errors</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">[errors</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">TransportError],</span> <span style="color: #D4D2C8">logger</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">log</span>
        <span style="color: #D4D2C8">)</span>

        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">command_metadata</span> <span style="color: #FFAD66">is</span> <span style="color: #FFAD66">True</span><span style="color: #D4D2C8">:</span>
            <span style="color: #D4D2C8">meta</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">ServiceProxy(</span><span style="color: #D5FF80">&#39;_meta&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">client,</span> <span style="color: #D4D2C8">command_metadata</span><span style="color: #FFAD66">=False</span><span style="color: #D4D2C8">)</span>
            <span style="color: #D4D2C8">svc</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">msgspec</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">convert(meta</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">service(</span><span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_svc_name),</span> <span style="color: #D4D2C8">ServiceSpec)</span>
            <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_commands</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">update({c</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name:</span> <span style="color: #D4D2C8">wrap_call(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">c</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name,</span> <span style="color: #D4D2C8">c)</span> <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">c</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">svc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">commands})</span>
        <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">command_metadata:</span>
            <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_commands</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">update({c</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name:</span> <span style="color: #D4D2C8">wrap_call(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">c</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name,</span> <span style="color: #D4D2C8">c)</span> <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">c</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">command_metadata})</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__getattr__</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">cmd_name:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Callable[</span><span style="color: #FFAD66">...</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Any]:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Return a cached callable or lazily wrap the remote command.&quot;&quot;&quot;</span>
        <span style="color: #FFAD66">if</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_commands:</span>
            <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
                <span style="color: #FFAD66">return</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_commands[cmd_name]</span>
            <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">KeyError</span> <span style="color: #FFAD66">as</span> <span style="color: #D4D2C8">exc:</span>
                <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">AttributeError</span><span style="color: #D4D2C8">(cmd_name)</span> <span style="color: #FFAD66">from</span><span style="color: #D4D2C8"> exc</span>
        <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">wrap_call(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">cmd_name)</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__dir__</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">list</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">]:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Add remote command names to ``dir()`` results.&quot;&quot;&quot;</span>
        <span style="color: #FFAD66">return</span> <span style="color: #FFD173">list</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_commands</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">keys())</span> <span style="color: #FFAD66">+</span> <span style="color: #FFD173">list</span><span style="color: #D4D2C8">(</span><span style="color: #FFD173">super</span><span style="color: #D4D2C8">()</span><span style="color: #FFAD66">.</span><span style="color: #FFD173">__dir__</span><span style="color: #D4D2C8">())</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="snekrpc.service.ServiceProxy.__dir__" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #FFD173">__dir__</span><span style="color: #D4D2C8">()</span></code>

<a href="#snekrpc.service.ServiceProxy.__dir__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Add remote command names to <code>dir()</code> results.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/service/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">92</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">93</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">94</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__dir__</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">list</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">]:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Add remote command names to ``dir()`` results.&quot;&quot;&quot;</span>
    <span style="color: #FFAD66">return</span> <span style="color: #FFD173">list</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_commands</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">keys())</span> <span style="color: #FFAD66">+</span> <span style="color: #FFD173">list</span><span style="color: #D4D2C8">(</span><span style="color: #FFD173">super</span><span style="color: #D4D2C8">()</span><span style="color: #FFAD66">.</span><span style="color: #FFD173">__dir__</span><span style="color: #D4D2C8">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.service.ServiceProxy.__getattr__" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #FFD173">__getattr__</span><span style="color: #D4D2C8">(cmd_name)</span></code>

<a href="#snekrpc.service.ServiceProxy.__getattr__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Return a cached callable or lazily wrap the remote command.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/service/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">83</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">84</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">85</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">86</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">87</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">88</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">89</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">90</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__getattr__</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">cmd_name:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Callable[</span><span style="color: #FFAD66">...</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Any]:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Return a cached callable or lazily wrap the remote command.&quot;&quot;&quot;</span>
    <span style="color: #FFAD66">if</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_commands:</span>
        <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
            <span style="color: #FFAD66">return</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_commands[cmd_name]</span>
        <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">KeyError</span> <span style="color: #FFAD66">as</span> <span style="color: #D4D2C8">exc:</span>
            <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">AttributeError</span><span style="color: #D4D2C8">(cmd_name)</span> <span style="color: #FFAD66">from</span><span style="color: #D4D2C8"> exc</span>
    <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">wrap_call(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">cmd_name)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.service.ServiceProxy.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #FFD173">__init__</span><span style="color: #D4D2C8">(name,</span> <span style="color: #D4D2C8">client,</span> <span style="color: #D4D2C8">command_metadata</span><span style="color: #FFAD66">=True</span><span style="color: #D4D2C8">)</span></code>

<a href="#snekrpc.service.ServiceProxy.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Cache remote service metadata and wrap remote commands.</p>
<p>When <code>command_metadata</code> is <code>True</code>, metadata will be loaded from the
remote metadata service. When <code>False</code>, no metadata will be loaded.
Otherwise, a sequence of command metadata can be provided directly.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/service/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">56</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">57</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">58</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">59</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">60</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">61</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">62</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">63</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">64</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">65</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">66</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">67</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">68</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">69</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">70</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">71</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">72</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">73</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">74</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">75</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">76</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">77</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">78</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">79</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">80</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">81</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__init__</span><span style="color: #D4D2C8">(</span>
    <span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span>
    <span style="color: #D4D2C8">name:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span>
    <span style="color: #D4D2C8">client:</span> <span style="color: #D4D2C8">Client,</span>
    <span style="color: #D4D2C8">command_metadata:</span> <span style="color: #FFD173">bool</span> <span style="color: #FFAD66">|</span> <span style="color: #D4D2C8">Sequence[utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">function</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">SignatureSpec]</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">True</span><span style="color: #D4D2C8">,</span>
<span style="color: #D4D2C8">):</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Cache remote service metadata and wrap remote commands.</span>

<span style="color: #7E8AA1">    When `command_metadata` is `True`, metadata will be loaded from the</span>
<span style="color: #7E8AA1">    remote metadata service. When `False`, no metadata will be loaded.</span>
<span style="color: #7E8AA1">    Otherwise, a sequence of command metadata can be provided directly.</span>
<span style="color: #7E8AA1">    &quot;&quot;&quot;</span>
    <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_svc_name</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">name</span>
    <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_client</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">client</span>
    <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_commands:</span> <span style="color: #FFD173">dict</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Callable[</span><span style="color: #FFAD66">...</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Any]]</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">{}</span>

    <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_retry</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">retry</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Retry(</span>
        <span style="color: #D4D2C8">client</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">retry_count,</span> <span style="color: #D4D2C8">client</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">retry_interval,</span> <span style="color: #D4D2C8">errors</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">[errors</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">TransportError],</span> <span style="color: #D4D2C8">logger</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">log</span>
    <span style="color: #D4D2C8">)</span>

    <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">command_metadata</span> <span style="color: #FFAD66">is</span> <span style="color: #FFAD66">True</span><span style="color: #D4D2C8">:</span>
        <span style="color: #D4D2C8">meta</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">ServiceProxy(</span><span style="color: #D5FF80">&#39;_meta&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">client,</span> <span style="color: #D4D2C8">command_metadata</span><span style="color: #FFAD66">=False</span><span style="color: #D4D2C8">)</span>
        <span style="color: #D4D2C8">svc</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">msgspec</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">convert(meta</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">service(</span><span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_svc_name),</span> <span style="color: #D4D2C8">ServiceSpec)</span>
        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_commands</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">update({c</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name:</span> <span style="color: #D4D2C8">wrap_call(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">c</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name,</span> <span style="color: #D4D2C8">c)</span> <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">c</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">svc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">commands})</span>
    <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">command_metadata:</span>
        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_commands</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">update({c</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name:</span> <span style="color: #D4D2C8">wrap_call(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">c</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name,</span> <span style="color: #D4D2C8">c)</span> <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">c</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">command_metadata})</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="snekrpc.service.ServiceSpec" class="doc doc-heading">
            <code>ServiceSpec</code>


<a href="#snekrpc.service.ServiceSpec" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="msgspec.Struct">Struct</span></code></p>



        <p>Description of a callable signature.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>snekrpc/service/__init__.py</code></summary>
                <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">30</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">31</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">32</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">33</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">34</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">35</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">36</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">37</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">38</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">39</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">40</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">41</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">42</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">43</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">44</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">45</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">46</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">47</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">48</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">49</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">50</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">class</span><span style="color: #D4D2C8"> </span><span style="color: #73D0FF">ServiceSpec</span><span style="color: #D4D2C8">(msgspec</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Struct,</span> <span style="color: #D4D2C8">frozen</span><span style="color: #FFAD66">=True</span><span style="color: #D4D2C8">):</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Description of a callable signature.&quot;&quot;&quot;</span>

    <span style="color: #D4D2C8">name:</span> <span style="color: #FFD173">str</span>
    <span style="color: #D4D2C8">doc:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span>
    <span style="color: #D4D2C8">commands:</span> <span style="color: #FFD173">tuple</span><span style="color: #D4D2C8">[utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">function</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">SignatureSpec,</span> <span style="color: #FFAD66">...</span><span style="color: #D4D2C8">]</span>

    <span style="color: #7E8AA1; font-weight: bold; font-style: italic">@classmethod</span>
    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">from_service</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">cls</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">svc:</span> <span style="color: #FFD173">type</span><span style="color: #D4D2C8">[Service],</span> <span style="color: #D4D2C8">service_name:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Self:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Serialize a service definition for metadata responses.&quot;&quot;&quot;</span>
        <span style="color: #7E8AA1"># commands have a `_meta` attribute</span>
        <span style="color: #D4D2C8">commands</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">[]</span>
        <span style="color: #D4D2C8">service_name</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">REGISTRY</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_name(svc)</span> <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">service_name</span> <span style="color: #FFAD66">is</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">else</span> <span style="color: #D4D2C8">service_name</span>
        <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">in</span> <span style="color: #FFD173">dir</span><span style="color: #D4D2C8">(svc):</span>
            <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">name</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">startswith(</span><span style="color: #D5FF80">&#39;_&#39;</span><span style="color: #D4D2C8">):</span>
                <span style="color: #FFAD66">continue</span>
            <span style="color: #D4D2C8">attr</span> <span style="color: #FFAD66">=</span> <span style="color: #FFD173">getattr</span><span style="color: #D4D2C8">(svc,</span> <span style="color: #D4D2C8">name)</span>
            <span style="color: #FFAD66">if</span> <span style="color: #FFD173">getattr</span><span style="color: #D4D2C8">(attr,</span> <span style="color: #D5FF80">&#39;_meta&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">is</span> <span style="color: #FFAD66">not</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
                <span style="color: #D4D2C8">commands</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">append(utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">function</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">encode(attr,</span> <span style="color: #D4D2C8">remove_self</span><span style="color: #FFAD66">=True</span><span style="color: #D4D2C8">))</span>

        <span style="color: #FFAD66">return</span> <span style="color: #5CCFE6">cls</span><span style="color: #D4D2C8">(service_name,</span> <span style="color: #D4D2C8">svc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">__doc__,</span> <span style="color: #FFD173">tuple</span><span style="color: #D4D2C8">(commands))</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="snekrpc.service.ServiceSpec.from_service" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">from_service(svc,</span> <span style="color: #D4D2C8">service_name</span><span style="color: #FFAD66">=None</span><span style="color: #D4D2C8">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#snekrpc.service.ServiceSpec.from_service" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Serialize a service definition for metadata responses.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/service/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">37</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">38</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">39</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">40</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">41</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">42</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">43</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">44</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">45</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">46</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">47</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">48</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">49</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">50</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #7E8AA1; font-weight: bold; font-style: italic">@classmethod</span>
<span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">from_service</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">cls</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">svc:</span> <span style="color: #FFD173">type</span><span style="color: #D4D2C8">[Service],</span> <span style="color: #D4D2C8">service_name:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Self:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Serialize a service definition for metadata responses.&quot;&quot;&quot;</span>
    <span style="color: #7E8AA1"># commands have a `_meta` attribute</span>
    <span style="color: #D4D2C8">commands</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">[]</span>
    <span style="color: #D4D2C8">service_name</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">REGISTRY</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_name(svc)</span> <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">service_name</span> <span style="color: #FFAD66">is</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">else</span> <span style="color: #D4D2C8">service_name</span>
    <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">in</span> <span style="color: #FFD173">dir</span><span style="color: #D4D2C8">(svc):</span>
        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">name</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">startswith(</span><span style="color: #D5FF80">&#39;_&#39;</span><span style="color: #D4D2C8">):</span>
            <span style="color: #FFAD66">continue</span>
        <span style="color: #D4D2C8">attr</span> <span style="color: #FFAD66">=</span> <span style="color: #FFD173">getattr</span><span style="color: #D4D2C8">(svc,</span> <span style="color: #D4D2C8">name)</span>
        <span style="color: #FFAD66">if</span> <span style="color: #FFD173">getattr</span><span style="color: #D4D2C8">(attr,</span> <span style="color: #D5FF80">&#39;_meta&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">is</span> <span style="color: #FFAD66">not</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
            <span style="color: #D4D2C8">commands</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">append(utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">function</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">encode(attr,</span> <span style="color: #D4D2C8">remove_self</span><span style="color: #FFAD66">=True</span><span style="color: #D4D2C8">))</span>

    <span style="color: #FFAD66">return</span> <span style="color: #5CCFE6">cls</span><span style="color: #D4D2C8">(service_name,</span> <span style="color: #D4D2C8">svc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">__doc__,</span> <span style="color: #FFD173">tuple</span><span style="color: #D4D2C8">(commands))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="snekrpc.service.StreamInitiator" class="doc doc-heading">
            <code>StreamInitiator</code>


<a href="#snekrpc.service.StreamInitiator" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">



        <p>Generator shim that ensures the generator is started.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>snekrpc/service/__init__.py</code></summary>
                <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 97</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 98</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 99</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">100</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">101</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">102</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">103</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">104</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">105</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">106</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">107</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">108</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">109</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">110</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">class</span><span style="color: #D4D2C8"> </span><span style="color: #73D0FF">StreamInitiator</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Generator shim that ensures the generator is started.&quot;&quot;&quot;</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__init__</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">gen:</span> <span style="color: #D4D2C8">Iterator[Any])</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Prime the generator while preserving the first item.&quot;&quot;&quot;</span>
        <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
            <span style="color: #D4D2C8">gen</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">itertools</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">chain([</span><span style="color: #FFD173">next</span><span style="color: #D4D2C8">(gen)],</span> <span style="color: #D4D2C8">gen)</span>
        <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">StopIteration</span><span style="color: #D4D2C8">:</span>
            <span style="color: #FFAD66">pass</span>
        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_gen</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">gen</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__iter__</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Iterator[Any]:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Yield the cached first item followed by the original stream.&quot;&quot;&quot;</span>
        <span style="color: #FFAD66">yield from</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_gen</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="snekrpc.service.StreamInitiator.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #FFD173">__init__</span><span style="color: #D4D2C8">(gen)</span></code>

<a href="#snekrpc.service.StreamInitiator.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Prime the generator while preserving the first item.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/service/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">100</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">101</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">102</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">103</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">104</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">105</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">106</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__init__</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">gen:</span> <span style="color: #D4D2C8">Iterator[Any])</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Prime the generator while preserving the first item.&quot;&quot;&quot;</span>
    <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
        <span style="color: #D4D2C8">gen</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">itertools</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">chain([</span><span style="color: #FFD173">next</span><span style="color: #D4D2C8">(gen)],</span> <span style="color: #D4D2C8">gen)</span>
    <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">StopIteration</span><span style="color: #D4D2C8">:</span>
        <span style="color: #FFAD66">pass</span>
    <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_gen</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">gen</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.service.StreamInitiator.__iter__" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #FFD173">__iter__</span><span style="color: #D4D2C8">()</span></code>

<a href="#snekrpc.service.StreamInitiator.__iter__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Yield the cached first item followed by the original stream.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/service/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">108</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">109</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">110</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__iter__</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Iterator[Any]:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Yield the cached first item followed by the original stream.&quot;&quot;&quot;</span>
    <span style="color: #FFAD66">yield from</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_gen</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="snekrpc.service.wrap_call" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">wrap_call(proxy,</span> <span style="color: #D4D2C8">cmd_name,</span> <span style="color: #D4D2C8">cmd_spec</span><span style="color: #FFAD66">=None</span><span style="color: #D4D2C8">)</span></code>

<a href="#snekrpc.service.wrap_call" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Wrap a remote call in retry logic, handling stream outputs.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/service/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">113</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">114</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">115</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">116</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">117</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">118</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">119</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">120</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">121</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">122</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">123</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">124</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">125</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">126</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">127</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">128</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">129</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">130</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">131</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">132</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">133</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">134</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">135</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">136</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">137</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">138</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">139</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">140</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">141</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">142</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">143</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">144</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">145</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">146</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">147</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">148</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">149</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">150</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">151</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">152</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">153</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">154</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">155</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">156</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">157</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">158</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">159</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">160</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">161</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">162</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">163</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">164</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">165</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">166</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">wrap_call</span><span style="color: #D4D2C8">(</span>
    <span style="color: #D4D2C8">proxy:</span> <span style="color: #D4D2C8">ServiceProxy,</span> <span style="color: #D4D2C8">cmd_name:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">cmd_spec:</span> <span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">function</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">SignatureSpec</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span>
<span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Callable[</span><span style="color: #FFAD66">...</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Any]:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Wrap a remote call in retry logic, handling stream outputs.&quot;&quot;&quot;</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">call</span><span style="color: #D4D2C8">(</span><span style="color: #FFAD66">*</span><span style="color: #D4D2C8">args:</span> <span style="color: #D4D2C8">Any,</span> <span style="color: #FFAD66">**</span><span style="color: #D4D2C8">kwargs:</span> <span style="color: #D4D2C8">Any)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
        <span style="color: #D4D2C8">con</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">proxy</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_client</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">connect()</span>
        <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
            <span style="color: #D4D2C8">proto</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">protocol</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Protocol(proxy</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_client,</span> <span style="color: #D4D2C8">con,</span> <span style="color: #D4D2C8">{proxy</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_svc_name:</span> <span style="color: #D4D2C8">proxy</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_commands})</span>

            <span style="color: #D4D2C8">res</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">proto</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">send_cmd(proxy</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_svc_name,</span> <span style="color: #D4D2C8">cmd_name,</span> <span style="color: #FFAD66">*</span><span style="color: #D4D2C8">args,</span> <span style="color: #FFAD66">**</span><span style="color: #D4D2C8">kwargs)</span>

            <span style="color: #D4D2C8">isgen</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">inspect</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">isgenerator(res)</span>
            <span style="color: #FFAD66">yield</span> <span style="color: #D4D2C8">isgen</span>

            <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">isgen:</span>
                <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">r</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">res:</span>
                    <span style="color: #FFAD66">yield</span> <span style="color: #D4D2C8">r</span>
            <span style="color: #FFAD66">else</span><span style="color: #D4D2C8">:</span>
                <span style="color: #FFAD66">yield</span> <span style="color: #D4D2C8">res</span>
        <span style="color: #FFAD66">except</span> <span style="color: #D4D2C8">errors</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">TransportError:</span>
            <span style="color: #D4D2C8">proxy</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_client</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">close()</span>
            <span style="color: #FFAD66">raise</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">call_value</span><span style="color: #D4D2C8">(</span><span style="color: #FFAD66">*</span><span style="color: #D4D2C8">args:</span> <span style="color: #D4D2C8">Any,</span> <span style="color: #FFAD66">**</span><span style="color: #D4D2C8">kwargs:</span> <span style="color: #D4D2C8">Any)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
        <span style="color: #D4D2C8">gen</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">call(</span><span style="color: #FFAD66">*</span><span style="color: #D4D2C8">args,</span> <span style="color: #FFAD66">**</span><span style="color: #D4D2C8">kwargs)</span>
        <span style="color: #D4D2C8">isgen</span> <span style="color: #FFAD66">=</span> <span style="color: #FFD173">next</span><span style="color: #D4D2C8">(gen)</span>
        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">isgen:</span>
            <span style="color: #FFAD66">raise</span> <span style="color: #D4D2C8">errors</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ParameterError(</span><span style="color: #D5FF80">&#39;did not expect a stream&#39;</span><span style="color: #D4D2C8">)</span>
        <span style="color: #FFAD66">return</span> <span style="color: #FFD173">next</span><span style="color: #D4D2C8">(gen)</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">call_stream</span><span style="color: #D4D2C8">(</span><span style="color: #FFAD66">*</span><span style="color: #D4D2C8">args:</span> <span style="color: #D4D2C8">Any,</span> <span style="color: #FFAD66">**</span><span style="color: #D4D2C8">kwargs:</span> <span style="color: #D4D2C8">Any)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
        <span style="color: #D4D2C8">gen</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">call(</span><span style="color: #FFAD66">*</span><span style="color: #D4D2C8">args,</span> <span style="color: #FFAD66">**</span><span style="color: #D4D2C8">kwargs)</span>
        <span style="color: #D4D2C8">isgen</span> <span style="color: #FFAD66">=</span> <span style="color: #FFD173">next</span><span style="color: #D4D2C8">(gen)</span>
        <span style="color: #FFAD66">if</span> <span style="color: #FFAD66">not</span> <span style="color: #D4D2C8">isgen:</span>
            <span style="color: #FFAD66">raise</span> <span style="color: #D4D2C8">errors</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ParameterError(</span><span style="color: #D5FF80">&#39;expected a stream&#39;</span><span style="color: #D4D2C8">)</span>
        <span style="color: #FFAD66">return</span> <span style="color: #FFD173">iter</span><span style="color: #D4D2C8">(StreamInitiator(gen))</span>

    <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">cmd_spec</span> <span style="color: #FFAD66">and</span> <span style="color: #D4D2C8">cmd_spec</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">is_generator:</span>

        <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">retry_wrap_gen</span><span style="color: #D4D2C8">(</span><span style="color: #FFAD66">*</span><span style="color: #D4D2C8">args:</span> <span style="color: #D4D2C8">Any,</span> <span style="color: #FFAD66">**</span><span style="color: #D4D2C8">kwargs:</span> <span style="color: #D4D2C8">Any)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
            <span style="color: #FFAD66">yield from</span> <span style="color: #D4D2C8">proxy</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_retry</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">call_gen(call_stream,</span> <span style="color: #FFAD66">*</span><span style="color: #D4D2C8">args,</span> <span style="color: #FFAD66">**</span><span style="color: #D4D2C8">kwargs)</span>

        <span style="color: #D4D2C8">callback</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">retry_wrap_gen</span>
    <span style="color: #FFAD66">else</span><span style="color: #D4D2C8">:</span>

        <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">retry_wrap</span><span style="color: #D4D2C8">(</span><span style="color: #FFAD66">*</span><span style="color: #D4D2C8">args:</span> <span style="color: #D4D2C8">Any,</span> <span style="color: #FFAD66">**</span><span style="color: #D4D2C8">kwargs:</span> <span style="color: #D4D2C8">Any)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
            <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">proxy</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_retry</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">call(call_value,</span> <span style="color: #FFAD66">*</span><span style="color: #D4D2C8">args,</span> <span style="color: #FFAD66">**</span><span style="color: #D4D2C8">kwargs)</span>

        <span style="color: #D4D2C8">callback</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">retry_wrap</span>

    <span style="color: #FFAD66">if</span> <span style="color: #FFAD66">not</span> <span style="color: #D4D2C8">cmd_spec:</span>
        <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">callback</span>
    <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">function</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">decode(cmd_spec,</span> <span style="color: #D4D2C8">callback)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="snekrpc.transport"></a>
    <div class="doc doc-contents first">

        <p>Base transport abstractions.</p>










<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="snekrpc.transport.Connection" class="doc doc-heading">
            <code>Connection</code>


<a href="#snekrpc.transport.Connection" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">



        <p>Wrap an underlying socket-like object and handle message encoding.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>snekrpc/transport/__init__.py</code></summary>
                <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">54</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">55</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">56</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">57</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">58</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">59</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">60</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">61</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">62</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">63</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">64</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">65</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">66</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">67</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">68</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">69</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">70</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">71</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">72</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">73</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">74</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">75</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">76</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">77</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">78</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">79</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">80</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">81</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">82</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">83</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">84</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">85</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">class</span><span style="color: #D4D2C8"> </span><span style="color: #73D0FF">Connection</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Wrap an underlying socket-like object and handle message encoding.&quot;&quot;&quot;</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__init__</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">interface:</span> <span style="color: #D4D2C8">Interface,</span> <span style="color: #D4D2C8">addr:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Bind the connection to an interface instance and address.&quot;&quot;&quot;</span>
        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_ifc</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">interface</span>
        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_addr</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">addr</span>

    <span style="color: #7E8AA1; font-weight: bold; font-style: italic">@property</span>
    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">url</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Return a string representation of the connection endpoint.&quot;&quot;&quot;</span>
        <span style="color: #FFAD66">return</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_addr</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">send</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">data:</span> <span style="color: #FFD173">bytes</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Send raw bytes.&quot;&quot;&quot;</span>
        <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">NotImplementedError</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">recv</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">bytes</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Receive raw bytes.&quot;&quot;&quot;</span>
        <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">NotImplementedError</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">close</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Close the underlying socket/resource.&quot;&quot;&quot;</span>
        <span style="color: #FFAD66">pass</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__enter__</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D5FF80">&#39;Connection&#39;</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Allow context-manager usage.&quot;&quot;&quot;</span>
        <span style="color: #FFAD66">return</span> <span style="color: #5CCFE6">self</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__exit__</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">exc_type:</span> <span style="color: #FFD173">type</span><span style="color: #D4D2C8">[</span><span style="color: #73D0FF">Exception</span><span style="color: #D4D2C8">],</span> <span style="color: #D4D2C8">exc:</span> <span style="color: #73D0FF">Exception</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">tb:</span> <span style="color: #D4D2C8">TracebackType)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Close the connection when leaving a `with` block.&quot;&quot;&quot;</span>
        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">close()</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="snekrpc.transport.Connection.url" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">url</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#snekrpc.transport.Connection.url" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Return a string representation of the connection endpoint.</p>

    </div>

</div>




<div class="doc doc-object doc-function">


<h3 id="snekrpc.transport.Connection.__enter__" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #FFD173">__enter__</span><span style="color: #D4D2C8">()</span></code>

<a href="#snekrpc.transport.Connection.__enter__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Allow context-manager usage.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/transport/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">79</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">80</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">81</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__enter__</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D5FF80">&#39;Connection&#39;</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Allow context-manager usage.&quot;&quot;&quot;</span>
    <span style="color: #FFAD66">return</span> <span style="color: #5CCFE6">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.transport.Connection.__exit__" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #FFD173">__exit__</span><span style="color: #D4D2C8">(exc_type,</span> <span style="color: #D4D2C8">exc,</span> <span style="color: #D4D2C8">tb)</span></code>

<a href="#snekrpc.transport.Connection.__exit__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Close the connection when leaving a <code>with</code> block.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/transport/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">83</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">84</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">85</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__exit__</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">exc_type:</span> <span style="color: #FFD173">type</span><span style="color: #D4D2C8">[</span><span style="color: #73D0FF">Exception</span><span style="color: #D4D2C8">],</span> <span style="color: #D4D2C8">exc:</span> <span style="color: #73D0FF">Exception</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">tb:</span> <span style="color: #D4D2C8">TracebackType)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Close the connection when leaving a `with` block.&quot;&quot;&quot;</span>
    <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">close()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.transport.Connection.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #FFD173">__init__</span><span style="color: #D4D2C8">(interface,</span> <span style="color: #D4D2C8">addr)</span></code>

<a href="#snekrpc.transport.Connection.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Bind the connection to an interface instance and address.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/transport/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">57</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">58</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">59</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">60</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__init__</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">interface:</span> <span style="color: #D4D2C8">Interface,</span> <span style="color: #D4D2C8">addr:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Bind the connection to an interface instance and address.&quot;&quot;&quot;</span>
    <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_ifc</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">interface</span>
    <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_addr</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">addr</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.transport.Connection.close" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">close()</span></code>

<a href="#snekrpc.transport.Connection.close" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Close the underlying socket/resource.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/transport/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">75</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">76</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">77</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">close</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Close the underlying socket/resource.&quot;&quot;&quot;</span>
    <span style="color: #FFAD66">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.transport.Connection.recv" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">recv()</span></code>

<a href="#snekrpc.transport.Connection.recv" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Receive raw bytes.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/transport/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">71</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">72</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">73</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">recv</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">bytes</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Receive raw bytes.&quot;&quot;&quot;</span>
    <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">NotImplementedError</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.transport.Connection.send" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">send(data)</span></code>

<a href="#snekrpc.transport.Connection.send" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Send raw bytes.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/transport/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">67</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">68</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">69</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">send</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">data:</span> <span style="color: #FFD173">bytes</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Send raw bytes.&quot;&quot;&quot;</span>
    <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">NotImplementedError</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="snekrpc.transport.Transport" class="doc doc-heading">
            <code>Transport</code>


<a href="#snekrpc.transport.Transport" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>



        <p>Base transport class mirrored across clients and servers.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>snekrpc/transport/__init__.py</code></summary>
                <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">18</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">19</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">20</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">21</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">22</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">23</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">24</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">25</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">26</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">27</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">28</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">29</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">30</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">31</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">32</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">33</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">34</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">35</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">36</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">37</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">38</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">39</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">40</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">41</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">42</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">43</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">44</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">45</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">46</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">47</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">48</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">49</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">50</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">51</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">class</span><span style="color: #D4D2C8"> </span><span style="color: #73D0FF">Transport</span><span style="color: #D4D2C8">(abc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ABC):</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Base transport class mirrored across clients and servers.&quot;&quot;&quot;</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__init_subclass__</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">cls</span><span style="color: #D4D2C8">,</span> <span style="color: #FFAD66">/</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">name:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
        <span style="color: #D4D2C8">REGISTRY</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">set(</span><span style="color: #5CCFE6">cls</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">__name__</span> <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">is</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">else</span> <span style="color: #D4D2C8">name,</span> <span style="color: #5CCFE6">cls</span><span style="color: #D4D2C8">)</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__init__</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">url:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">url</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Url):</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Store the normalized URL for later use.&quot;&quot;&quot;</span>
        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_url</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">url</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Url(url)</span>

    <span style="color: #7E8AA1; font-weight: bold; font-style: italic">@property</span>
    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">url</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">url</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Url:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Return the configured transport URL.&quot;&quot;&quot;</span>
        <span style="color: #FFAD66">return</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_url</span>

    <span style="color: #7E8AA1; font-weight: bold; font-style: italic">@abc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">abstractmethod</span>
    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">connect</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">client:</span> <span style="color: #D4D2C8">Any)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Connection:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Connect to a remote endpoint and return a Connection.&quot;&quot;&quot;</span>
        <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">NotImplementedError</span>

    <span style="color: #7E8AA1; font-weight: bold; font-style: italic">@abc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">abstractmethod</span>
    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">serve</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">server:</span> <span style="color: #D4D2C8">Any)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Start serving RPC requests.&quot;&quot;&quot;</span>
        <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">NotImplementedError</span>

    <span style="color: #7E8AA1; font-weight: bold; font-style: italic">@abc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">abstractmethod</span>
    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">stop</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Stop serving and release resources.&quot;&quot;&quot;</span>
        <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">NotImplementedError</span>

    <span style="color: #7E8AA1; font-weight: bold; font-style: italic">@abc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">abstractmethod</span>
    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">join</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">timeout:</span> <span style="color: #FFD173">float</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Block until the server threads exit.&quot;&quot;&quot;</span>
        <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">NotImplementedError</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="snekrpc.transport.Transport.url" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">url</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#snekrpc.transport.Transport.url" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Return the configured transport URL.</p>

    </div>

</div>




<div class="doc doc-object doc-function">


<h3 id="snekrpc.transport.Transport.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #FFD173">__init__</span><span style="color: #D4D2C8">(url)</span></code>

<a href="#snekrpc.transport.Transport.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Store the normalized URL for later use.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/transport/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">24</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">25</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">26</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__init__</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">url:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">url</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Url):</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Store the normalized URL for later use.&quot;&quot;&quot;</span>
    <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">_url</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">url</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Url(url)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.transport.Transport.connect" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">connect(client)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#snekrpc.transport.Transport.connect" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Connect to a remote endpoint and return a Connection.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/transport/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">33</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">34</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">35</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">36</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #7E8AA1; font-weight: bold; font-style: italic">@abc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">abstractmethod</span>
<span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">connect</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">client:</span> <span style="color: #D4D2C8">Any)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Connection:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Connect to a remote endpoint and return a Connection.&quot;&quot;&quot;</span>
    <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">NotImplementedError</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.transport.Transport.join" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">join(timeout</span><span style="color: #FFAD66">=None</span><span style="color: #D4D2C8">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#snekrpc.transport.Transport.join" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Block until the server threads exit.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/transport/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">48</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">49</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">50</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">51</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #7E8AA1; font-weight: bold; font-style: italic">@abc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">abstractmethod</span>
<span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">join</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">timeout:</span> <span style="color: #FFD173">float</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Block until the server threads exit.&quot;&quot;&quot;</span>
    <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">NotImplementedError</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.transport.Transport.serve" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">serve(server)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#snekrpc.transport.Transport.serve" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Start serving RPC requests.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/transport/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">38</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">39</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">40</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">41</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #7E8AA1; font-weight: bold; font-style: italic">@abc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">abstractmethod</span>
<span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">serve</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">server:</span> <span style="color: #D4D2C8">Any)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Start serving RPC requests.&quot;&quot;&quot;</span>
    <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">NotImplementedError</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.transport.Transport.stop" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">stop()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#snekrpc.transport.Transport.stop" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Stop serving and release resources.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/transport/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">43</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">44</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">45</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">46</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #7E8AA1; font-weight: bold; font-style: italic">@abc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">abstractmethod</span>
<span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">stop</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Stop serving and release resources.&quot;&quot;&quot;</span>
    <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">NotImplementedError</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="snekrpc.transport.create" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">create(url,</span> <span style="color: #FFAD66">*</span><span style="color: #D4D2C8">args,</span> <span style="color: #FFAD66">**</span><span style="color: #D4D2C8">kwargs)</span></code>

<a href="#snekrpc.transport.create" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Create a <code>Transport</code> instance for <em>url</em>.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/transport/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">95</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">96</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">97</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">create</span><span style="color: #D4D2C8">(url:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">url</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Url,</span> <span style="color: #FFAD66">*</span><span style="color: #D4D2C8">args:</span> <span style="color: #D4D2C8">Any,</span> <span style="color: #FFAD66">**</span><span style="color: #D4D2C8">kwargs:</span> <span style="color: #D4D2C8">Any)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Transport:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Create a `Transport` instance for *url*.&quot;&quot;&quot;</span>
    <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">REGISTRY</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">create(utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">url</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Url(url)</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">scheme,</span> <span style="color: #D4D2C8">url,</span> <span style="color: #FFAD66">*</span><span style="color: #D4D2C8">args,</span> <span style="color: #FFAD66">**</span><span style="color: #D4D2C8">kwargs)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="snekrpc.codec"></a>
    <div class="doc doc-contents first">

        <p>Codec base classes and helpers.</p>










<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="snekrpc.codec.Codec" class="doc doc-heading">
            <code>Codec</code>


<a href="#snekrpc.codec.Codec" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="abc.ABC">ABC</span></code></p>



        <p>Base class for codecs that know how to encode/decode RPC payloads.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>snekrpc/codec/__init__.py</code></summary>
                <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">12</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">13</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">14</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">15</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">16</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">17</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">18</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">19</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">20</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">21</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">22</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">23</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">24</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">25</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">26</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">27</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">28</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">29</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">30</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">31</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">32</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">33</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">34</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">35</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">36</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">37</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">38</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">39</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">40</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">class</span><span style="color: #D4D2C8"> </span><span style="color: #73D0FF">Codec</span><span style="color: #D4D2C8">(abc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ABC):</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Base class for codecs that know how to encode/decode RPC payloads.&quot;&quot;&quot;</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__init_subclass__</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">cls</span><span style="color: #D4D2C8">,</span> <span style="color: #FFAD66">/</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">name:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
        <span style="color: #D4D2C8">REGISTRY</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">set(</span><span style="color: #5CCFE6">cls</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">__name__</span> <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">is</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">else</span> <span style="color: #D4D2C8">name,</span> <span style="color: #5CCFE6">cls</span><span style="color: #D4D2C8">)</span>

    <span style="color: #7E8AA1; font-weight: bold; font-style: italic">@abc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">abstractmethod</span>
    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">encode</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">msg:</span> <span style="color: #D4D2C8">Any)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">bytes</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Serialize `msg` into bytes.&quot;&quot;&quot;</span>
        <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">NotImplementedError</span><span style="color: #D4D2C8">(</span><span style="color: #D5FF80">&#39;abstract&#39;</span><span style="color: #D4D2C8">)</span>

    <span style="color: #7E8AA1; font-weight: bold; font-style: italic">@abc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">abstractmethod</span>
    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">decode</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">data:</span> <span style="color: #FFD173">bytes</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Deserialize bytes into Python objects.&quot;&quot;&quot;</span>
        <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">NotImplementedError</span><span style="color: #D4D2C8">(</span><span style="color: #D5FF80">&#39;abstract&#39;</span><span style="color: #D4D2C8">)</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">_encode</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">msg:</span> <span style="color: #D4D2C8">Any)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">bytes</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Wrapper that provides encoding error context. Used internally.&quot;&quot;&quot;</span>
        <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
            <span style="color: #FFAD66">return</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">encode(msg)</span>
        <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">Exception</span> <span style="color: #FFAD66">as</span> <span style="color: #D4D2C8">exc:</span>
            <span style="color: #FFAD66">raise</span> <span style="color: #D4D2C8">errors</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">EncodeError(</span><span style="color: #F29E74">f</span><span style="color: #D5FF80">&#39;</span><span style="color: #95E6CB">{</span><span style="color: #D4D2C8">exc</span><span style="color: #95E6CB">}</span><span style="color: #D5FF80">: msg=</span><span style="color: #95E6CB">{</span><span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">elide(</span><span style="color: #FFD173">repr</span><span style="color: #D4D2C8">(msg))</span><span style="color: #95E6CB">}</span><span style="color: #D5FF80">&#39;</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">from</span><span style="color: #D4D2C8"> exc</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">_decode</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">data:</span> <span style="color: #FFD173">bytes</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Wrapper that provides decoding error context. Used internally.&quot;&quot;&quot;</span>
        <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
            <span style="color: #FFAD66">return</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">decode(data)</span>
        <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">Exception</span> <span style="color: #FFAD66">as</span> <span style="color: #D4D2C8">exc:</span>
            <span style="color: #FFAD66">raise</span> <span style="color: #D4D2C8">errors</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">DecodeError(</span><span style="color: #F29E74">f</span><span style="color: #D5FF80">&#39;</span><span style="color: #95E6CB">{</span><span style="color: #D4D2C8">exc</span><span style="color: #95E6CB">}</span><span style="color: #D5FF80">: data=</span><span style="color: #95E6CB">{</span><span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">elide(</span><span style="color: #FFD173">repr</span><span style="color: #D4D2C8">(data))</span><span style="color: #95E6CB">!r}</span><span style="color: #D5FF80">&#39;</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">from</span><span style="color: #D4D2C8"> exc</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="snekrpc.codec.Codec.decode" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">decode(data)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#snekrpc.codec.Codec.decode" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Deserialize bytes into Python objects.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/codec/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">23</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">24</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">25</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">26</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #7E8AA1; font-weight: bold; font-style: italic">@abc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">abstractmethod</span>
<span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">decode</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">data:</span> <span style="color: #FFD173">bytes</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Deserialize bytes into Python objects.&quot;&quot;&quot;</span>
    <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">NotImplementedError</span><span style="color: #D4D2C8">(</span><span style="color: #D5FF80">&#39;abstract&#39;</span><span style="color: #D4D2C8">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.codec.Codec.encode" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">encode(msg)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

<a href="#snekrpc.codec.Codec.encode" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Serialize <code>msg</code> into bytes.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/codec/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">18</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">19</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">20</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">21</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #7E8AA1; font-weight: bold; font-style: italic">@abc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">abstractmethod</span>
<span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">encode</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">msg:</span> <span style="color: #D4D2C8">Any)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">bytes</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Serialize `msg` into bytes.&quot;&quot;&quot;</span>
    <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">NotImplementedError</span><span style="color: #D4D2C8">(</span><span style="color: #D5FF80">&#39;abstract&#39;</span><span style="color: #D4D2C8">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="snekrpc.formatter"></a>
    <div class="doc doc-contents first">

        <p>Formatter plugin infrastructure.</p>










<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="snekrpc.formatter.Formatter" class="doc doc-heading">
            <code>Formatter</code>


<a href="#snekrpc.formatter.Formatter" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">



        <p>Base class for converting RPC responses to user output.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>snekrpc/formatter/__init__.py</code></summary>
                <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">11</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">12</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">13</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">14</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">15</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">16</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">17</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">18</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">19</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">20</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">21</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">22</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">23</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">24</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">25</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">26</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">27</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">28</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">29</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">30</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">31</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">class</span><span style="color: #D4D2C8"> </span><span style="color: #73D0FF">Formatter</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Base class for converting RPC responses to user output.&quot;&quot;&quot;</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__init_subclass__</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">cls</span><span style="color: #D4D2C8">,</span> <span style="color: #FFAD66">/</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">name:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
        <span style="color: #D4D2C8">REGISTRY</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">set(</span><span style="color: #5CCFE6">cls</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">__name__</span> <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">is</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">else</span> <span style="color: #D4D2C8">name,</span> <span style="color: #5CCFE6">cls</span><span style="color: #D4D2C8">)</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">process</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">res:</span> <span style="color: #D4D2C8">Any)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Automatically iterate through generators and print results.&quot;&quot;&quot;</span>
        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">inspect</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">isgenerator(res):</span>
            <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">value</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">res:</span>
                <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">print(value)</span>
        <span style="color: #FFAD66">else</span><span style="color: #D4D2C8">:</span>
            <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">print(res)</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">print</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">res:</span> <span style="color: #D4D2C8">Any)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Print a formatted representation of `res`.&quot;&quot;&quot;</span>
        <span style="color: #FFD173">print</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(res))</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">format</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">res:</span> <span style="color: #D4D2C8">Any)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Return the raw value by default; subclasses can override.&quot;&quot;&quot;</span>
        <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">res</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="snekrpc.formatter.Formatter.format" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #FFD173">format</span><span style="color: #D4D2C8">(res)</span></code>

<a href="#snekrpc.formatter.Formatter.format" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Return the raw value by default; subclasses can override.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/formatter/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">29</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">30</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">31</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">format</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">res:</span> <span style="color: #D4D2C8">Any)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Return the raw value by default; subclasses can override.&quot;&quot;&quot;</span>
    <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">res</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.formatter.Formatter.print" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #FFD173">print</span><span style="color: #D4D2C8">(res)</span></code>

<a href="#snekrpc.formatter.Formatter.print" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Print a formatted representation of <code>res</code>.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/formatter/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">25</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">26</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">27</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">print</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">res:</span> <span style="color: #D4D2C8">Any)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Print a formatted representation of `res`.&quot;&quot;&quot;</span>
    <span style="color: #FFD173">print</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(res))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.formatter.Formatter.process" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">process(res)</span></code>

<a href="#snekrpc.formatter.Formatter.process" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Automatically iterate through generators and print results.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/formatter/__init__.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">17</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">18</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">19</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">20</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">21</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">22</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">23</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">process</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">res:</span> <span style="color: #D4D2C8">Any)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Automatically iterate through generators and print results.&quot;&quot;&quot;</span>
    <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">inspect</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">isgenerator(res):</span>
        <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">value</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">res:</span>
            <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">print(value)</span>
    <span style="color: #FFAD66">else</span><span style="color: #D4D2C8">:</span>
        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">print(res)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="snekrpc.cli"></a>
    <div class="doc doc-contents first">

        <p>Command-line entry points for interacting with local and remote servers.</p>










<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="snekrpc.cli.Parser" class="doc doc-heading">
            <code>Parser</code>


<a href="#snekrpc.cli.Parser" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">



        <p>Builds CLI parsers for both client and server workflows.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>snekrpc/cli.py</code></summary>
                <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 36</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 37</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 38</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 39</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 40</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 41</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 42</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 43</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 44</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 45</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 46</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 47</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 48</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 49</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 50</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 51</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 52</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 53</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 54</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 55</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 56</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 57</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 58</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 59</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 60</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 61</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 62</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 63</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 64</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 65</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 66</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 67</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 68</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 69</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 70</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 71</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 72</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 73</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 74</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 75</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 76</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 77</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 78</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 79</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 80</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 81</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 82</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 83</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 84</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 85</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 86</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 87</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 88</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 89</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 90</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 91</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 92</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 93</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 94</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 95</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 96</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 97</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 98</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 99</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">100</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">101</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">102</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">103</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">104</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">105</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">106</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">107</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">108</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">109</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">110</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">111</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">112</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">113</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">114</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">115</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">116</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">117</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">118</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">119</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">120</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">121</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">122</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">123</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">124</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">125</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">126</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">127</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">128</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">129</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">130</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">131</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">132</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">133</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">134</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">135</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">136</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">137</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">138</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">139</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">140</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">141</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">142</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">143</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">144</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">145</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">146</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">147</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">148</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">149</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">150</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">151</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">152</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">153</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">154</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">155</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">156</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">157</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">158</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">159</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">160</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">161</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">162</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">163</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">164</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">165</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">166</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">167</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">168</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">169</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">170</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">171</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">172</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">173</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">174</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">175</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">176</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">177</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">178</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">179</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">180</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">181</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">182</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">183</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">184</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">185</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">186</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">187</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">188</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">189</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">190</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">191</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">192</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">193</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">194</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">195</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">196</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">197</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">198</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">199</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">200</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">201</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">202</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">203</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">204</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">205</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">206</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">207</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">208</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">209</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">210</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">211</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">212</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">213</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">214</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">215</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">216</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">217</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">218</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">219</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">220</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">221</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">222</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">223</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">224</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">225</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">226</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">227</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">228</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">229</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">230</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">231</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">232</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">233</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">234</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">235</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">236</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">237</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">238</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">239</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">240</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">241</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">242</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">243</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">244</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">245</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">246</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">247</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">248</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">249</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">250</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">251</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">252</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">253</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">254</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">255</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">256</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">257</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">258</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">259</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">260</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">261</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">262</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">263</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">264</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">265</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">266</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">267</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">268</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">269</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">270</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">271</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">272</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">273</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">274</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">275</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">276</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">277</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">278</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">279</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">280</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">281</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">282</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">283</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">284</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">285</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">286</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">287</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">288</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">289</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">290</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">291</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">292</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">293</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">294</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">295</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">296</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">297</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">298</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">299</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">300</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">301</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">302</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">303</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">304</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">305</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">306</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">307</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">308</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">309</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">310</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">311</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">312</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">313</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">314</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">315</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">316</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">317</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">318</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">319</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">320</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">321</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">322</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">323</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">324</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">325</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">326</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">327</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">328</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">329</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">330</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">331</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">332</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">333</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">334</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">335</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">336</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">337</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">338</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">339</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">340</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">341</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">342</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">343</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">344</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">345</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">346</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">347</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">348</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">349</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">350</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">351</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">352</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">353</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">354</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">355</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">356</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">357</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">358</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">359</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">360</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">361</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">362</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">363</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">364</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">365</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">366</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">367</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">368</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">369</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">370</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">371</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">372</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">373</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">374</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">375</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">376</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">377</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">378</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">379</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">380</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">381</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">382</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">383</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">384</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">385</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">386</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">387</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">388</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">389</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">390</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">391</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">392</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">393</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">394</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">395</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">396</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">397</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">398</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">399</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">400</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">401</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">402</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">403</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">404</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">405</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">406</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">407</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">408</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">409</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">410</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">411</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">412</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">413</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">414</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">415</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">416</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">417</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">418</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">419</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">420</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">421</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">422</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">423</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">424</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">425</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">426</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">427</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">428</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">429</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">430</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">431</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">432</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">433</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">434</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">435</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">436</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">437</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">438</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">439</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">440</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">441</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">442</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">443</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">444</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">445</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">446</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">447</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">448</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">449</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">450</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">451</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">452</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">453</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">454</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">455</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">456</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">457</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">458</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">459</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">460</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">461</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">462</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">463</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">464</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">465</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">466</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">467</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">468</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">469</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">470</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">471</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">472</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">473</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">474</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">475</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">476</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">477</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">478</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">479</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">480</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">481</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">482</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">483</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">484</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">485</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">486</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">487</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">488</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">489</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">490</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">491</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">492</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">493</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">494</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">495</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">496</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">497</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">498</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">499</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">500</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">501</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">502</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">503</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">504</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">505</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">506</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">507</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">508</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">509</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">510</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">511</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">512</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">513</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">514</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">515</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">516</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">517</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">518</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">519</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">520</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">521</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">522</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">523</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">524</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">525</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">526</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">527</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">528</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">529</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">530</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">531</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">532</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">533</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">534</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">535</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">536</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">537</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">538</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">539</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">540</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">541</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">542</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">543</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">544</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">545</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">546</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">547</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">548</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">549</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">550</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">551</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">552</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">553</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">554</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">555</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">556</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">557</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">558</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">559</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">560</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">561</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">562</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">563</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">564</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">565</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">566</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">567</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">568</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">569</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">570</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">571</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">572</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">573</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">574</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">575</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">576</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">577</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">578</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">579</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">580</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">581</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">582</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">583</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">584</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">585</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">586</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">587</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">588</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">589</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">590</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">591</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">592</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">593</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">594</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">595</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">596</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">597</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">598</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">599</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">600</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">601</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">602</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">603</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">604</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">605</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">606</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">607</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">608</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">609</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">610</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">611</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">612</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">613</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">614</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">615</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">616</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">617</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">618</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">619</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">620</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">621</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">622</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">623</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">624</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">625</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">626</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">627</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">628</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">629</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">630</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">631</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">632</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">633</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">634</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">635</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">636</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">637</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">638</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">639</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">640</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">641</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">642</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">643</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">644</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">645</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">646</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">647</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">648</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">649</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">650</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">651</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">652</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">653</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">654</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">655</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">656</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">657</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">658</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">659</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">660</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">661</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">662</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">663</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">664</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">665</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">666</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">667</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">668</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">669</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">670</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">671</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">672</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">673</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">674</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">675</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">676</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">677</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">678</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">679</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">680</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">681</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">682</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">683</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">684</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">685</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">686</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">687</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">688</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">689</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">690</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">691</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">692</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">693</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">694</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">695</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">696</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">697</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">698</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">699</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">700</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">701</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">702</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">class</span><span style="color: #D4D2C8"> </span><span style="color: #73D0FF">Parser</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Builds CLI parsers for both client and server workflows.&quot;&quot;&quot;</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__init__</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Initialize the base parser and global argument definitions.&quot;&quot;&quot;</span>
        <span style="color: #7E8AA1"># global args</span>
        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">base_parser</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ArgumentParser(add_help</span><span style="color: #FFAD66">=False</span><span style="color: #D4D2C8">)</span>
        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_global_args(</span><span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">base_parser)</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">main</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Processes command-line arguments and calls any selected command.&quot;&quot;&quot;</span>

        <span style="color: #7E8AA1"># temp parser to grab connection arguments</span>
        <span style="color: #D4D2C8">parser</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ArgumentParser(add_help</span><span style="color: #FFAD66">=False</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">parents</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">[</span><span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">base_parser])</span>
        <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
            <span style="color: #D5FF80">&#39;-h&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D5FF80">&#39;--help&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">action</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;store_true&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;show this help message and exit&#39;</span>
        <span style="color: #D4D2C8">)</span>
        <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span><span style="color: #D5FF80">&#39;rest&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">nargs</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">REMAINDER,</span> <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">SUPPRESS)</span>

        <span style="color: #D4D2C8">args,</span> <span style="color: #D4D2C8">extra_args</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">parse_known_args()</span>

        <span style="color: #D4D2C8">logs</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">init(args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">verbose)</span>

        <span style="color: #7E8AA1"># import built-in modules</span>
        <span style="color: #D4D2C8">registry</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">init()</span>

        <span style="color: #7E8AA1"># import additional modules</span>
        <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">imp</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">imports:</span>
            <span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">path</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">import_module(imp)</span>

        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">list:</span>
            <span style="color: #D4D2C8">meta</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">cast(</span>
                <span style="color: #D4D2C8">registry</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Registry[Any],</span>
                <span style="color: #D4D2C8">{</span>
                    <span style="color: #D5FF80">&#39;codecs&#39;</span><span style="color: #D4D2C8">:</span> <span style="color: #D4D2C8">codec</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">REGISTRY,</span>
                    <span style="color: #D5FF80">&#39;formatters&#39;</span><span style="color: #D4D2C8">:</span> <span style="color: #D4D2C8">formatter</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">REGISTRY,</span>
                    <span style="color: #D5FF80">&#39;services&#39;</span><span style="color: #D4D2C8">:</span> <span style="color: #D4D2C8">service</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">REGISTRY,</span>
                    <span style="color: #D5FF80">&#39;transports&#39;</span><span style="color: #D4D2C8">:</span> <span style="color: #D4D2C8">transport</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">REGISTRY,</span>
                <span style="color: #D4D2C8">}[args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">list],</span>
            <span style="color: #D4D2C8">)</span>

            <span style="color: #7E8AA1"># select an output formatter</span>
            <span style="color: #D4D2C8">fmt</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span>
            <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
                <span style="color: #D4D2C8">fmt</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">formatter</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">create(args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format)</span>
            <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">Exception</span> <span style="color: #FFAD66">as</span> <span style="color: #D4D2C8">e:</span>
                <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">verbose:</span>
                    <span style="color: #FFAD66">raise</span>
                <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">error(</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">(e))</span>
            <span style="color: #FFAD66">assert</span> <span style="color: #D4D2C8">fmt</span> <span style="color: #FFAD66">is</span> <span style="color: #FFAD66">not</span> <span style="color: #FFAD66">None</span>

            <span style="color: #D4D2C8">fmt</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">process(meta</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">names())</span>
            <span style="color: #FFAD66">return</span>

        <span style="color: #7E8AA1"># parser for transport and service args</span>
        <span style="color: #D4D2C8">parser</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ArgumentParser(parents</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">[</span><span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">base_parser])</span>

        <span style="color: #D4D2C8">transport_cls</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">transport</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get(args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">url)</span>
        <span style="color: #FFAD66">if</span> <span style="color: #FFD173">isinstance</span><span style="color: #D4D2C8">(transport_cls,</span> <span style="color: #73D0FF">Exception</span><span style="color: #D4D2C8">):</span>
            <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_transport_exception(parser,</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">url</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">scheme,</span> <span style="color: #D4D2C8">transport_cls)</span>
        <span style="color: #FFAD66">else</span><span style="color: #D4D2C8">:</span>
            <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_transport_args(parser,</span> <span style="color: #D4D2C8">transport_cls)</span>

        <span style="color: #7E8AA1"># add service arguments</span>
        <span style="color: #D4D2C8">used_aliases</span> <span style="color: #FFAD66">=</span> <span style="color: #FFD173">set</span><span style="color: #D4D2C8">()</span>
        <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">in</span> <span style="color: #FFD173">sorted</span><span style="color: #D4D2C8">(args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">services):</span>
            <span style="color: #D4D2C8">name,</span> <span style="color: #D4D2C8">alias</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parse_alias(name)</span>
            <span style="color: #D4D2C8">service_cls</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">service</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get(name)</span>

            <span style="color: #D4D2C8">alias</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">alias</span> <span style="color: #FFAD66">or</span> <span style="color: #D4D2C8">name</span>
            <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">alias</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">used_aliases:</span>
                <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">ValueError</span><span style="color: #D4D2C8">(</span><span style="color: #F29E74">f</span><span style="color: #D5FF80">&#39;duplicate service alias: </span><span style="color: #95E6CB">{</span><span style="color: #D4D2C8">alias</span><span style="color: #95E6CB">}</span><span style="color: #D5FF80">&#39;</span><span style="color: #D4D2C8">)</span>
            <span style="color: #D4D2C8">used_aliases</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add(alias)</span>

            <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_service_args(parser,</span> <span style="color: #D4D2C8">service_cls,</span> <span style="color: #D4D2C8">alias)</span>

        <span style="color: #7E8AA1"># collect transport and service args</span>
        <span style="color: #D4D2C8">sub_args</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">parse_args(extra_args)</span>
        <span style="color: #D4D2C8">trn_args,</span> <span style="color: #D4D2C8">svc_args</span> <span style="color: #FFAD66">=</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_prefixed_args(sub_args)</span>

        <span style="color: #D4D2C8">trn_name</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">url</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">scheme</span>
        <span style="color: #D4D2C8">trn</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">transport</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">create(args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">url,</span> <span style="color: #FFAD66">**</span><span style="color: #D4D2C8">trn_args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get(trn_name,</span> <span style="color: #D4D2C8">{}))</span>

        <span style="color: #7E8AA1"># start client or server</span>
        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">server_mode:</span>
            <span style="color: #7E8AA1"># help</span>
            <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">help:</span>
                <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">print_help()</span>
                <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">exit()</span>
            <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">version</span> <span style="color: #FFAD66">is</span> <span style="color: #FFAD66">True</span><span style="color: #D4D2C8">:</span>
                <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">error(</span><span style="color: #D5FF80">&#39;expected a version string&#39;</span><span style="color: #D4D2C8">)</span>
            <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">rest:</span>
                <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">error(</span><span style="color: #D5FF80">&#39;unrecognized arguments: </span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80">&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(</span><span style="color: #D5FF80">&#39; &#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">join(args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">rest)))</span>
            <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">start_server(trn,</span> <span style="color: #D4D2C8">args,</span> <span style="color: #D4D2C8">svc_args)</span>
        <span style="color: #FFAD66">else</span><span style="color: #D4D2C8">:</span>
            <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
                <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">start_client(trn,</span> <span style="color: #D4D2C8">parser,</span> <span style="color: #D4D2C8">args)</span>
            <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">Exception</span> <span style="color: #FFAD66">as</span> <span style="color: #D4D2C8">e:</span>
                <span style="color: #D4D2C8">err</span> <span style="color: #FFAD66">=</span> <span style="color: #D5FF80">&#39;</span><span style="color: #95E6CB">{}\n</span><span style="color: #D5FF80">connection required for help on remote services&#39;</span>

                <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">help:</span>
                    <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">print_help()</span>
                    <span style="color: #FFD173">print</span><span style="color: #D4D2C8">(err</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(e),</span> <span style="color: #D4D2C8">file</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">sys</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">stderr)</span>
                    <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">exit()</span>

                <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">verbose:</span>
                    <span style="color: #FFAD66">raise</span>
                <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">error(err</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(e))</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">start_client</span><span style="color: #D4D2C8">(</span>
        <span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">trn:</span> <span style="color: #D4D2C8">transport</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Transport,</span> <span style="color: #D4D2C8">parser:</span> <span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ArgumentParser,</span> <span style="color: #D4D2C8">args:</span> <span style="color: #D4D2C8">Args</span>
    <span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Connect to the remote server and execute a command.&quot;&quot;&quot;</span>
        <span style="color: #D4D2C8">client</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">interface</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Client(</span>
            <span style="color: #D4D2C8">trn,</span>
            <span style="color: #D4D2C8">codec</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">codec,</span>
            <span style="color: #D4D2C8">retry_count</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">retry_count,</span>
            <span style="color: #D4D2C8">retry_interval</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">retry_interval,</span>
        <span style="color: #D4D2C8">)</span>

        <span style="color: #7E8AA1"># get service metadata</span>
        <span style="color: #D4D2C8">svcs:</span> <span style="color: #FFD173">list</span><span style="color: #D4D2C8">[service</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ServiceSpec]</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span>
        <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
            <span style="color: #D4D2C8">meta</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">client</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">service(</span><span style="color: #D5FF80">&#39;_meta&#39;</span><span style="color: #D4D2C8">)</span>

            <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">version:</span>
                <span style="color: #7E8AA1"># show server status and exit</span>
                <span style="color: #D4D2C8">status</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">meta</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">status()</span>
                <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">print_status(status)</span>
                <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">exit()</span>

            <span style="color: #D4D2C8">svcs</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">msgspec</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">convert(meta</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">services(),</span> <span style="color: #FFD173">list</span><span style="color: #D4D2C8">[service</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ServiceSpec])</span>

        <span style="color: #FFAD66">except</span> <span style="color: #D4D2C8">errors</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">RemoteError</span> <span style="color: #FFAD66">as</span> <span style="color: #D4D2C8">e:</span>
            <span style="color: #FFAD66">if</span> <span style="color: #FFAD66">not</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">verbose</span> <span style="color: #FFAD66">and</span> <span style="color: #D4D2C8">e</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">==</span> <span style="color: #D5FF80">&#39;KeyError&#39;</span><span style="color: #D4D2C8">:</span>
                <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">error(</span><span style="color: #D5FF80">&#39;metadata service not available&#39;</span><span style="color: #D4D2C8">)</span>
            <span style="color: #FFAD66">raise</span>

        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">svcs</span> <span style="color: #FFAD66">is</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
            <span style="color: #7E8AA1"># parser.error exits above, but keep type-checkers happy.</span>
            <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">AssertionError</span><span style="color: #D4D2C8">(</span><span style="color: #D5FF80">&#39;unreachable&#39;</span><span style="color: #D4D2C8">)</span>

        <span style="color: #7E8AA1"># add services</span>
        <span style="color: #D4D2C8">svc_subs</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_subparsers(title</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;remote services&#39;</span><span style="color: #D4D2C8">)</span>

        <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">svc</span> <span style="color: #FFAD66">in</span> <span style="color: #FFD173">sorted</span><span style="color: #D4D2C8">(svcs,</span> <span style="color: #D4D2C8">key</span><span style="color: #FFAD66">=lambda</span> <span style="color: #D4D2C8">s:</span> <span style="color: #D4D2C8">s</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name):</span>
            <span style="color: #D4D2C8">svc_name</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">svc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name</span>
            <span style="color: #D4D2C8">svc_desc</span> <span style="color: #FFAD66">=</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_help(svc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">doc)</span>
            <span style="color: #D4D2C8">svc_parser</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">svc_subs</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_parser(svc_name,</span> <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">svc_desc,</span> <span style="color: #D4D2C8">description</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">svc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">doc)</span>
            <span style="color: #D4D2C8">svc_parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">set_defaults(svc_name</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">svc_name)</span>

            <span style="color: #7E8AA1"># add service commands</span>
            <span style="color: #D4D2C8">cmd_subs</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">svc_parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_subparsers(title</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;commands&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">dest</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;command&#39;</span><span style="color: #D4D2C8">)</span>
            <span style="color: #D4D2C8">cmd_subs</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">required</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">True</span>

            <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">cmd</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">svc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">commands:</span>
                <span style="color: #D4D2C8">cmd_name</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">cmd</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name</span>
                <span style="color: #D4D2C8">cmd_desc</span> <span style="color: #FFAD66">=</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_help(cmd</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">doc)</span>
                <span style="color: #D4D2C8">cmd_parser</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">cmd_subs</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_parser(cmd_name,</span> <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">cmd_desc,</span> <span style="color: #D4D2C8">description</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">cmd</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">doc)</span>
                <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_command_args(cmd_parser,</span> <span style="color: #D4D2C8">cmd)</span>
                <span style="color: #D4D2C8">cmd_parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">set_defaults(cmd_name</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">cmd_name,</span> <span style="color: #D4D2C8">cmd_meta</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">cmd)</span>

        <span style="color: #7E8AA1"># help</span>
        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">help:</span>
            <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">print_help()</span>
            <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">exit()</span>
        <span style="color: #FFAD66">elif</span> <span style="color: #FFAD66">not</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">rest:</span>
            <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">print_usage()</span>
            <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">exit()</span>

        <span style="color: #7E8AA1"># select an output formatter</span>
        <span style="color: #D4D2C8">fmt:</span> <span style="color: #D4D2C8">Any</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span>
        <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
            <span style="color: #D4D2C8">fmt</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">formatter</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">create(args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format)</span>
        <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">Exception</span> <span style="color: #FFAD66">as</span> <span style="color: #D4D2C8">e:</span>
            <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">verbose:</span>
                <span style="color: #FFAD66">raise</span>
            <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">error(</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">(e))</span>
        <span style="color: #FFAD66">assert</span> <span style="color: #D4D2C8">fmt</span> <span style="color: #FFAD66">is</span> <span style="color: #FFAD66">not</span> <span style="color: #FFAD66">None</span>

        <span style="color: #7E8AA1"># get the command arguments</span>
        <span style="color: #D4D2C8">verbose</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">verbose</span>
        <span style="color: #D4D2C8">args</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">parse_args(args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">rest)</span>
        <span style="color: #D4D2C8">cmd_args,</span> <span style="color: #D4D2C8">cmd_kwargs</span> <span style="color: #FFAD66">=</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_command_args(args)</span>

        <span style="color: #7E8AA1"># get the command function</span>
        <span style="color: #D4D2C8">proxy</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">client</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">service(args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">svc_name,</span> <span style="color: #D4D2C8">metadata</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">[args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">cmd_meta])</span>
        <span style="color: #D4D2C8">func</span> <span style="color: #FFAD66">=</span> <span style="color: #FFD173">getattr</span><span style="color: #D4D2C8">(proxy,</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">cmd_name)</span>

        <span style="color: #7E8AA1"># call the command</span>
        <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
            <span style="color: #D4D2C8">res</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">func(</span><span style="color: #FFAD66">*</span><span style="color: #D4D2C8">cmd_args,</span> <span style="color: #FFAD66">**</span><span style="color: #D4D2C8">cmd_kwargs)</span>
            <span style="color: #FFAD66">assert</span> <span style="color: #D4D2C8">res</span> <span style="color: #FFAD66">is</span> <span style="color: #FFAD66">not</span> <span style="color: #FFAD66">None</span>
            <span style="color: #D4D2C8">fmt</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">process(res)</span>
        <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">Exception</span> <span style="color: #FFAD66">as</span> <span style="color: #D4D2C8">e:</span>
            <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">verbose:</span>
                <span style="color: #FFAD66">raise</span>
            <span style="color: #D4D2C8">log</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">error(</span><span style="color: #D5FF80">&#39;command error: </span><span style="color: #95E6CB">%s</span><span style="color: #D5FF80">&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">e)</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">start_server</span><span style="color: #D4D2C8">(</span>
        <span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">trn:</span> <span style="color: #D4D2C8">transport</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Transport,</span>
        <span style="color: #D4D2C8">args:</span> <span style="color: #D4D2C8">Args,</span>
        <span style="color: #D4D2C8">svc_args:</span> <span style="color: #FFD173">dict</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #FFD173">dict</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Any]],</span>
    <span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Start an RPC server with the configured services.&quot;&quot;&quot;</span>
        <span style="color: #7E8AA1"># create server</span>
        <span style="color: #D4D2C8">s</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">interface</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Server(</span>
            <span style="color: #D4D2C8">trn,</span>
            <span style="color: #D4D2C8">codec</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">codec,</span>
            <span style="color: #D4D2C8">version</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">version,</span>
            <span style="color: #D4D2C8">remote_tracebacks</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">remote_tracebacks,</span>
        <span style="color: #D4D2C8">)</span>

        <span style="color: #7E8AA1"># add services</span>
        <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">services:</span>
            <span style="color: #D4D2C8">name,</span> <span style="color: #D4D2C8">alias</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parse_alias(name)</span>
            <span style="color: #D4D2C8">s_args</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">svc_args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get(name,</span> <span style="color: #D4D2C8">{})</span>
            <span style="color: #D4D2C8">svc</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">service</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">create(name,</span> <span style="color: #FFAD66">**</span><span style="color: #D4D2C8">s_args)</span>
            <span style="color: #D4D2C8">s</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_service(svc,</span> <span style="color: #D4D2C8">alias)</span>

        <span style="color: #D4D2C8">s</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">serve()</span>

    <span style="color: #7E8AA1">## get arguments ##</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">get_prefixed_args</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">args:</span> <span style="color: #D4D2C8">Args)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">tuple</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">dict</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Any],</span> <span style="color: #FFD173">dict</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Any]]:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Split parsed values into transport and service dictionaries.&quot;&quot;&quot;</span>
        <span style="color: #D4D2C8">pfx_args:</span> <span style="color: #FFD173">dict</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #FFD173">dict</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Any]]</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">{}</span>

        <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">name,</span> <span style="color: #D4D2C8">value</span> <span style="color: #FFAD66">in</span> <span style="color: #FFD173">vars</span><span style="color: #D4D2C8">(args)</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">items():</span>
            <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
                <span style="color: #D4D2C8">prefix,</span> <span style="color: #D4D2C8">cls_name,</span> <span style="color: #D4D2C8">arg_name</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">name</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">split(</span><span style="color: #D5FF80">&#39;_&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #DFBFFF">2</span><span style="color: #D4D2C8">)</span>
            <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">ValueError</span><span style="color: #D4D2C8">:</span>
                <span style="color: #FFAD66">continue</span>

            <span style="color: #D4D2C8">cls_args</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">pfx_args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">setdefault(prefix,</span> <span style="color: #D4D2C8">{})</span>
            <span style="color: #D4D2C8">cls_args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">setdefault(cls_name,</span> <span style="color: #D4D2C8">{})[arg_name]</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">value</span>

        <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">pfx_args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get(</span><span style="color: #D5FF80">&#39;transport&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">{}),</span> <span style="color: #D4D2C8">pfx_args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get(</span><span style="color: #D5FF80">&#39;service&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">{})</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">get_command_args</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">args:</span> <span style="color: #D4D2C8">Args)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">tuple</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">list</span><span style="color: #D4D2C8">[Any],</span> <span style="color: #FFD173">dict</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Any]]:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Processes the command-line arguments and returns the arguments to</span>
<span style="color: #7E8AA1">        pass to the selected command.&quot;&quot;&quot;</span>
        <span style="color: #D4D2C8">cmd:</span> <span style="color: #D4D2C8">SignatureSpec</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">cmd_meta</span>

        <span style="color: #D4D2C8">cmd_args:</span> <span style="color: #FFD173">list</span><span style="color: #D4D2C8">[Any]</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">[]</span>
        <span style="color: #D4D2C8">cmd_kwargs:</span> <span style="color: #FFD173">dict</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Any]</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">{}</span>

        <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">param</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">cmd</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">parameters:</span>
            <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">hide:</span>
                <span style="color: #FFAD66">continue</span>

            <span style="color: #D4D2C8">arg</span> <span style="color: #FFAD66">=</span> <span style="color: #FFD173">getattr</span><span style="color: #D4D2C8">(args,</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name)</span>
            <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">{Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">POSITIONAL_ONLY,</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">POSITIONAL_OR_KEYWORD}:</span>
                <span style="color: #D4D2C8">cmd_args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">append(arg)</span>
            <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">==</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">VAR_POSITIONAL:</span>
                <span style="color: #D4D2C8">cmd_args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">extend(arg)</span>
            <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">==</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">VAR_KEYWORD:</span>
                <span style="color: #D4D2C8">cmd_kwargs</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">update(arg</span> <span style="color: #FFAD66">or</span> <span style="color: #D4D2C8">{})</span>
            <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">==</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">KEYWORD_ONLY:</span>
                <span style="color: #D4D2C8">cmd_kwargs[param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name]</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">arg</span>
            <span style="color: #FFAD66">else</span><span style="color: #D4D2C8">:</span>
                <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">AssertionError</span><span style="color: #D4D2C8">(</span><span style="color: #F29E74">f</span><span style="color: #D5FF80">&#39;unsupported argument kind: </span><span style="color: #95E6CB">{</span><span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span><span style="color: #95E6CB">}</span><span style="color: #D5FF80">&#39;</span><span style="color: #D4D2C8">)</span>

        <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">cmd_args,</span> <span style="color: #D4D2C8">cmd_kwargs</span>

    <span style="color: #7E8AA1">## add arguments ##</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">add_service_args</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">parser:</span> <span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ArgumentParser,</span> <span style="color: #5CCFE6">cls</span><span style="color: #D4D2C8">:</span> <span style="color: #D4D2C8">Any,</span> <span style="color: #D4D2C8">alias:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Expose ``cls.__init__`` parameters under the given service alias.&quot;&quot;&quot;</span>
        <span style="color: #D4D2C8">svc_parser</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument_group(</span><span style="color: #D5FF80">&#39;</span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80"> service arguments&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(alias))</span>

        <span style="color: #7E8AA1"># add a prefix to every param</span>
        <span style="color: #D4D2C8">cmd</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">function</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">encode(</span><span style="color: #5CCFE6">cls</span><span style="color: #FFAD66">.</span><span style="color: #FFD173">__init__</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">remove_self</span><span style="color: #FFAD66">=True</span><span style="color: #D4D2C8">)</span>
        <span style="color: #D4D2C8">params</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">[]</span>
        <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">param</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">cmd</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">parameters:</span>
            <span style="color: #D4D2C8">param</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">msgspec</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">structs</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">replace(</span>
                <span style="color: #D4D2C8">param,</span>
                <span style="color: #D4D2C8">name</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;_&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">join([</span><span style="color: #D5FF80">&#39;service&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">alias,</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name]),</span>
                <span style="color: #7E8AA1"># force keyword-only params for clarity</span>
                <span style="color: #D4D2C8">kind</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">==</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">VAR_KEYWORD</span> <span style="color: #FFAD66">else</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">KEYWORD_ONLY,</span>
            <span style="color: #D4D2C8">)</span>
            <span style="color: #FFAD66">if</span> <span style="color: #FFAD66">not</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">has_default:</span>
                <span style="color: #D4D2C8">param</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">msgspec</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">structs</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">replace(param,</span> <span style="color: #D4D2C8">default</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">SUPPRESS)</span>
            <span style="color: #D4D2C8">params</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">append(param)</span>

        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_command_args(svc_parser,</span> <span style="color: #D4D2C8">cmd,</span> <span style="color: #D4D2C8">single_flags</span><span style="color: #FFAD66">=False</span><span style="color: #D4D2C8">)</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">add_transport_args</span><span style="color: #D4D2C8">(</span>
        <span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">parser:</span> <span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ArgumentParser,</span> <span style="color: #5CCFE6">cls</span><span style="color: #D4D2C8">:</span> <span style="color: #FFD173">type</span><span style="color: #D4D2C8">[transport</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Transport]</span>
    <span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Expose transport constructor parameters with a unique prefix.&quot;&quot;&quot;</span>
        <span style="color: #D4D2C8">ignored</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">{</span><span style="color: #D5FF80">&#39;url&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D5FF80">&#39;timeout&#39;</span><span style="color: #D4D2C8">}</span>
        <span style="color: #D4D2C8">trn_name</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">transport</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">REGISTRY</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_name(</span><span style="color: #5CCFE6">cls</span><span style="color: #D4D2C8">)</span>

        <span style="color: #D4D2C8">trn_parser</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument_group(</span>
            <span style="color: #D5FF80">&#39;</span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80"> transport arguments&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(trn_name),</span>
            <span style="color: #D5FF80">&#39;To see arguments for another transport, set the &quot;--url&quot; argument&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">)</span>

        <span style="color: #7E8AA1"># add a prefix to every param</span>
        <span style="color: #D4D2C8">cmd</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">function</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">encode(</span><span style="color: #5CCFE6">cls</span><span style="color: #FFAD66">.</span><span style="color: #FFD173">__init__</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">remove_self</span><span style="color: #FFAD66">=True</span><span style="color: #D4D2C8">)</span>
        <span style="color: #D4D2C8">params</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">[]</span>
        <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">param</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">cmd</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">parameters:</span>
            <span style="color: #D4D2C8">params</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">append(</span>
                <span style="color: #D4D2C8">msgspec</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">structs</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">replace(</span>
                    <span style="color: #D4D2C8">param,</span>
                    <span style="color: #D4D2C8">name</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;_&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">join([</span><span style="color: #D5FF80">&#39;transport&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">trn_name,</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name]),</span>
                    <span style="color: #7E8AA1"># force keyword-only params for clarity</span>
                    <span style="color: #D4D2C8">kind</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">==</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">VAR_KEYWORD</span> <span style="color: #FFAD66">else</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">KEYWORD_ONLY,</span>
                    <span style="color: #D4D2C8">hide</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">ignored,</span>
                <span style="color: #D4D2C8">)</span>
            <span style="color: #D4D2C8">)</span>

        <span style="color: #D4D2C8">cmd</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">msgspec</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">structs</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">replace(cmd,</span> <span style="color: #D4D2C8">parameters</span><span style="color: #FFAD66">=</span><span style="color: #FFD173">tuple</span><span style="color: #D4D2C8">(params))</span>

        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_command_args(trn_parser,</span> <span style="color: #D4D2C8">cmd,</span> <span style="color: #D4D2C8">single_flags</span><span style="color: #FFAD66">=False</span><span style="color: #D4D2C8">)</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">add_transport_exception</span><span style="color: #D4D2C8">(</span>
        <span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">parser:</span> <span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ArgumentParser,</span> <span style="color: #D4D2C8">name:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">exc:</span> <span style="color: #73D0FF">Exception</span>
    <span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Display an error group when a transport fails to import.&quot;&quot;&quot;</span>
        <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument_group(</span>
            <span style="color: #D5FF80">&#39;</span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80"> transport arguments&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(name),</span>
            <span style="color: #D5FF80">&#39;failed to load transport: </span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80">&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(exc),</span>
        <span style="color: #D4D2C8">)</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">add_command_args</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">parser:</span> <span style="color: #D4D2C8">Any,</span> <span style="color: #D4D2C8">cmd:</span> <span style="color: #D4D2C8">SignatureSpec,</span> <span style="color: #D4D2C8">single_flags:</span> <span style="color: #FFD173">bool</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">True</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Translate command metadata into argparse arguments.&quot;&quot;&quot;</span>

        <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">is_option_arg</span><span style="color: #D4D2C8">(param:</span> <span style="color: #D4D2C8">ParameterSpec)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">bool</span><span style="color: #D4D2C8">:</span>
            <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">==</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">VAR_KEYWORD</span> <span style="color: #FFAD66">or</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">has_default</span>

        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">single_flags:</span>
            <span style="color: #7E8AA1"># keep track of used single char flags</span>
            <span style="color: #D4D2C8">chars</span> <span style="color: #FFAD66">=</span> <span style="color: #FFD173">set</span><span style="color: #D4D2C8">(</span><span style="color: #D5FF80">&#39;h&#39;</span><span style="color: #D4D2C8">)</span>
            <span style="color: #7E8AA1"># include single char arguments</span>
            <span style="color: #D4D2C8">chars</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">update(</span>
                <span style="color: #D4D2C8">p</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">p</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">cmd</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">parameters</span> <span style="color: #FFAD66">if</span> <span style="color: #FFD173">len</span><span style="color: #D4D2C8">(p</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name)</span> <span style="color: #FFAD66">==</span> <span style="color: #DFBFFF">1</span> <span style="color: #FFAD66">and</span> <span style="color: #FFAD66">not</span> <span style="color: #D4D2C8">is_option_arg(p)</span>
            <span style="color: #D4D2C8">)</span>
        <span style="color: #FFAD66">else</span><span style="color: #D4D2C8">:</span>
            <span style="color: #D4D2C8">chars</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span>

        <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">param</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">cmd</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">parameters:</span>
            <span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name</span>
            <span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span>
            <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">annotation</span>
            <span style="color: #D4D2C8">doc</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">doc</span>

            <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">hide:</span>
                <span style="color: #FFAD66">continue</span>

            <span style="color: #D4D2C8">kwargs:</span> <span style="color: #FFD173">dict</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Any]</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">{</span><span style="color: #D5FF80">&#39;metavar&#39;</span><span style="color: #D4D2C8">:</span> <span style="color: #D4D2C8">name}</span>

            <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">has_default:</span>
                <span style="color: #D4D2C8">kwargs[</span><span style="color: #D5FF80">&#39;default&#39;</span><span style="color: #D4D2C8">]</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">default</span>

            <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">{Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">KEYWORD_ONLY,</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">VAR_KEYWORD}:</span>  <span style="color: #7E8AA1"># **kwargs</span>
                <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_option_arg(parser,</span> <span style="color: #D4D2C8">param,</span> <span style="color: #D4D2C8">chars)</span>

            <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">has_default:</span>  <span style="color: #7E8AA1"># args with defaults</span>
                <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_option_arg(parser,</span> <span style="color: #D4D2C8">param,</span> <span style="color: #D4D2C8">chars)</span>

            <span style="color: #FFAD66">else</span><span style="color: #D4D2C8">:</span>  <span style="color: #7E8AA1"># positional args</span>
                <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">==</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">VAR_POSITIONAL:</span>  <span style="color: #7E8AA1"># *args</span>
                    <span style="color: #D4D2C8">kwargs[</span><span style="color: #D5FF80">&#39;nargs&#39;</span><span style="color: #D4D2C8">]</span> <span style="color: #FFAD66">=</span> <span style="color: #D5FF80">&#39;*&#39;</span>

                <span style="color: #D4D2C8">kwargs</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">update(</span>
                    <span style="color: #D4D2C8">{</span>
                        <span style="color: #D5FF80">&#39;type&#39;</span><span style="color: #D4D2C8">:</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_converter(hint),</span>
                        <span style="color: #D5FF80">&#39;help&#39;</span><span style="color: #D4D2C8">:</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_argument_help(doc,</span> <span style="color: #D4D2C8">hint,</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">default),</span>
                    <span style="color: #D4D2C8">}</span>
                <span style="color: #D4D2C8">)</span>
                <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(name,</span> <span style="color: #FFAD66">**</span><span style="color: #D4D2C8">kwargs)</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">add_option_arg</span><span style="color: #D4D2C8">(</span>
        <span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">parser:</span> <span style="color: #D4D2C8">Any,</span> <span style="color: #D4D2C8">param:</span> <span style="color: #D4D2C8">ParameterSpec,</span> <span style="color: #D4D2C8">chars:</span> <span style="color: #FFD173">set</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">]</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span>
    <span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Add an individual option flag, handling bool/kwargs special cases.&quot;&quot;&quot;</span>
        <span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name</span>
        <span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span>
        <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">annotation</span>
        <span style="color: #D4D2C8">doc</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">doc</span>
        <span style="color: #D4D2C8">default</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">default</span>

        <span style="color: #7E8AA1"># use dashes instead of underscores for param names</span>
        <span style="color: #D4D2C8">flag_name</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">name</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">replace(</span><span style="color: #D5FF80">&#39;_&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D5FF80">&#39;-&#39;</span><span style="color: #D4D2C8">)</span>

        <span style="color: #7E8AA1"># check for possible short flags</span>
        <span style="color: #D4D2C8">flags</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">[]</span>
        <span style="color: #D4D2C8">added</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">False</span>
        <span style="color: #D4D2C8">c</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">flag_name[</span><span style="color: #DFBFFF">0</span><span style="color: #D4D2C8">]</span>
        <span style="color: #D4D2C8">C</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">c</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">upper()</span>

        <span style="color: #7E8AA1"># check if the lower or uppercase char is unique</span>
        <span style="color: #FFAD66">if</span> <span style="color: #FFAD66">not</span> <span style="color: #D4D2C8">chars:</span>
            <span style="color: #7E8AA1"># don&#39;t add a short flag</span>
            <span style="color: #FFAD66">pass</span>
        <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">c</span> <span style="color: #FFAD66">not</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">chars:</span>
            <span style="color: #D4D2C8">flags</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">append(</span><span style="color: #D5FF80">&#39;-&#39;</span> <span style="color: #FFAD66">+</span> <span style="color: #D4D2C8">c)</span>
            <span style="color: #D4D2C8">chars</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add(c)</span>
            <span style="color: #D4D2C8">added</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">True</span>
        <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">C</span> <span style="color: #FFAD66">not</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">chars:</span>
            <span style="color: #D4D2C8">flags</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">append(</span><span style="color: #D5FF80">&#39;-&#39;</span> <span style="color: #FFAD66">+</span> <span style="color: #D4D2C8">C)</span>
            <span style="color: #D4D2C8">chars</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add(C)</span>
            <span style="color: #D4D2C8">added</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">True</span>

        <span style="color: #7E8AA1"># add a long flag if no short flag was added</span>
        <span style="color: #7E8AA1"># add a long flag if the name is more than 1 character</span>
        <span style="color: #FFAD66">if</span> <span style="color: #FFAD66">not</span> <span style="color: #D4D2C8">added</span> <span style="color: #FFAD66">or</span> <span style="color: #FFD173">len</span><span style="color: #D4D2C8">(flag_name)</span> <span style="color: #FFAD66">&gt;</span> <span style="color: #DFBFFF">1</span><span style="color: #D4D2C8">:</span>
            <span style="color: #D4D2C8">flags</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">append(</span><span style="color: #D5FF80">&#39;--&#39;</span> <span style="color: #FFAD66">+</span> <span style="color: #D4D2C8">flag_name)</span>

        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">==</span> <span style="color: #D5FF80">&#39;bool&#39;</span><span style="color: #D4D2C8">:</span>
            <span style="color: #7E8AA1"># handle bool special case</span>
            <span style="color: #D4D2C8">group</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_mutually_exclusive_group()</span>
            <span style="color: #FFAD66">if</span> <span style="color: #FFAD66">not</span> <span style="color: #D4D2C8">default:</span>
                <span style="color: #7E8AA1"># in case default is None</span>
                <span style="color: #D4D2C8">default</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">False</span>

            <span style="color: #D4D2C8">help</span> <span style="color: #FFAD66">=</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_argument_help(doc)</span>

            <span style="color: #7E8AA1"># add a flag for the True value</span>
            <span style="color: #D4D2C8">group</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
                <span style="color: #FFAD66">*</span><span style="color: #D4D2C8">flags,</span>
                <span style="color: #D4D2C8">action</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;store_true&#39;</span><span style="color: #D4D2C8">,</span>
                <span style="color: #D4D2C8">default</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">default,</span>
                <span style="color: #D4D2C8">dest</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">name,</span>
                <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">help</span> <span style="color: #FFAD66">+</span> <span style="color: #D5FF80">&#39; (default)&#39;</span> <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">default</span> <span style="color: #FFAD66">is</span> <span style="color: #FFAD66">True</span> <span style="color: #FFAD66">else</span> <span style="color: #D5FF80">&#39;&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">)</span>

            <span style="color: #7E8AA1"># add a flag for the False value</span>
            <span style="color: #D4D2C8">group</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
                <span style="color: #D5FF80">&#39;--no-&#39;</span> <span style="color: #FFAD66">+</span> <span style="color: #D4D2C8">flag_name,</span>
                <span style="color: #D4D2C8">action</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;store_false&#39;</span><span style="color: #D4D2C8">,</span>
                <span style="color: #D4D2C8">dest</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">name,</span>
                <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">help</span> <span style="color: #FFAD66">+</span> <span style="color: #D5FF80">&#39; (default)&#39;</span> <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">default</span> <span style="color: #FFAD66">is</span> <span style="color: #FFAD66">False</span> <span style="color: #FFAD66">else</span> <span style="color: #D5FF80">&#39;&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">)</span>

        <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">==</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">VAR_KEYWORD:</span>
            <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
                <span style="color: #FFAD66">*</span><span style="color: #D4D2C8">flags,</span>
                <span style="color: #D4D2C8">action</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;append&#39;</span><span style="color: #D4D2C8">,</span>
                <span style="color: #D4D2C8">dest</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">name,</span>
                <span style="color: #FFD173">type</span><span style="color: #FFAD66">=</span><span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_converter(</span><span style="color: #D5FF80">&#39;keyword&#39;</span><span style="color: #D4D2C8">),</span>
                <span style="color: #D4D2C8">metavar</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;name=value&#39;</span><span style="color: #D4D2C8">,</span>
                <span style="color: #D4D2C8">default</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">default,</span>
                <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_argument_help(doc,</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">default),</span>
            <span style="color: #D4D2C8">)</span>

        <span style="color: #FFAD66">else</span><span style="color: #D4D2C8">:</span>
            <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
                <span style="color: #FFAD66">*</span><span style="color: #D4D2C8">flags,</span>
                <span style="color: #D4D2C8">dest</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">name,</span>
                <span style="color: #FFD173">type</span><span style="color: #FFAD66">=</span><span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_converter(hint),</span>
                <span style="color: #D4D2C8">metavar</span><span style="color: #FFAD66">=</span><span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_argument_hint(hint),</span>
                <span style="color: #D4D2C8">default</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">default,</span>
                <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_argument_help(doc,</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">default),</span>
            <span style="color: #D4D2C8">)</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">add_global_args</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">parser:</span> <span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ArgumentParser)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Adds an argument group to *parser* for global arguments.&quot;&quot;&quot;</span>

        <span style="color: #D4D2C8">egroup</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_mutually_exclusive_group()</span>
        <span style="color: #D4D2C8">egroup</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
            <span style="color: #D5FF80">&#39;-C&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D5FF80">&#39;--client&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">action</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;store_false&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">dest</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;server_mode&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;start in client mode (default)&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">default</span><span style="color: #FFAD66">=False</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">)</span>
        <span style="color: #D4D2C8">egroup</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
            <span style="color: #D5FF80">&#39;-S&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D5FF80">&#39;--server&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">action</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;store_true&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">dest</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;server_mode&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;start in server mode&#39;</span>
        <span style="color: #D4D2C8">)</span>

        <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
            <span style="color: #D5FF80">&#39;-l&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D5FF80">&#39;--list&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">choices</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">[</span><span style="color: #D5FF80">&#39;codecs&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D5FF80">&#39;formatters&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D5FF80">&#39;services&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D5FF80">&#39;transports&#39;</span><span style="color: #D4D2C8">],</span>
            <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;list the modules available for the selected category&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">)</span>
        <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
            <span style="color: #D5FF80">&#39;-v&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D5FF80">&#39;--verbose&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">action</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;count&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">default</span><span style="color: #FFAD66">=</span><span style="color: #DFBFFF">0</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;enable verbose output (-vv for more)&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">)</span>
        <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
            <span style="color: #D5FF80">&#39;-V&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D5FF80">&#39;--version&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">nargs</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;?&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">const</span><span style="color: #FFAD66">=True</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;show server version (client) or set server version (server)&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">)</span>

        <span style="color: #D4D2C8">group</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument_group(</span><span style="color: #D5FF80">&#39;configuration arguments&#39;</span><span style="color: #D4D2C8">)</span>

        <span style="color: #D4D2C8">group</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
            <span style="color: #D5FF80">&#39;-u&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D5FF80">&#39;--url&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #FFD173">type</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">url</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Url,</span>
            <span style="color: #D4D2C8">default</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">DEFAULT_URL,</span>
            <span style="color: #D4D2C8">metavar</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;TRANSPORT://HOST:PORT&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;URL to connect or bind to (default: </span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80">)&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">DEFAULT_URL),</span>
        <span style="color: #D4D2C8">)</span>
        <span style="color: #D4D2C8">group</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
            <span style="color: #D5FF80">&#39;-i&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D5FF80">&#39;--import&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">action</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;append&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">dest</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;imports&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">metavar</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;IMPORT&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">default</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">[],</span>
            <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;import an additional (codec/formatter/service/transport) module&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">)</span>
        <span style="color: #D4D2C8">group</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
            <span style="color: #D5FF80">&#39;-c&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D5FF80">&#39;--codec&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;the codec format to use (default: </span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80"> on server)&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(interface</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">DEFAULT_CODEC),</span>
        <span style="color: #D4D2C8">)</span>
        <span style="color: #D4D2C8">group</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
            <span style="color: #D5FF80">&#39;-s&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D5FF80">&#39;--service&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">action</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;append&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">dest</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;services&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">metavar</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;SERVICE[:alias]&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">default</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">[],</span>
            <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;register a service with the server (can be set multiple times)&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">)</span>

        <span style="color: #D4D2C8">group</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument_group(</span><span style="color: #D5FF80">&#39;client arguments&#39;</span><span style="color: #D4D2C8">)</span>

        <span style="color: #D4D2C8">group</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
            <span style="color: #D5FF80">&#39;-t&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D5FF80">&#39;--timeout&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #FFD173">type</span><span style="color: #FFAD66">=</span><span style="color: #FFD173">float</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;number of seconds to wait for a response (default: no timeout)&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">)</span>
        <span style="color: #D4D2C8">group</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
            <span style="color: #D5FF80">&#39;-r&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D5FF80">&#39;--retry-count&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #FFD173">type</span><span style="color: #FFAD66">=</span><span style="color: #FFD173">int</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;number of retry attempts to make (-1 for unlimited, default: no retries)&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">)</span>
        <span style="color: #D4D2C8">group</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
            <span style="color: #D5FF80">&#39;--retry-interval&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #FFD173">type</span><span style="color: #FFAD66">=</span><span style="color: #FFD173">float</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;number of seconds between retry attempts (default: 1.0)&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">)</span>

        <span style="color: #D4D2C8">group</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument_group(</span><span style="color: #D5FF80">&#39;server arguments&#39;</span><span style="color: #D4D2C8">)</span>

        <span style="color: #D4D2C8">group</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
            <span style="color: #D5FF80">&#39;--remote-tracebacks&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">action</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;store_true&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;send tracebacks with errors&#39;</span>
        <span style="color: #D4D2C8">)</span>

        <span style="color: #D4D2C8">group</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument_group(</span><span style="color: #D5FF80">&#39;output arguments&#39;</span><span style="color: #D4D2C8">)</span>

        <span style="color: #D4D2C8">format_default</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">{</span>
            <span style="color: #D5FF80">&#39;piped&#39;</span><span style="color: #D4D2C8">:</span> <span style="color: #D5FF80">&#39;json&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D5FF80">&#39;redirected&#39;</span><span style="color: #D4D2C8">:</span> <span style="color: #D5FF80">&#39;raw&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D5FF80">&#39;terminal&#39;</span><span style="color: #D4D2C8">:</span> <span style="color: #D5FF80">&#39;pretty&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">}[io_stat_mode()]</span>
        <span style="color: #D4D2C8">group</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
            <span style="color: #D5FF80">&#39;-f&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D5FF80">&#39;--format&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">default</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">format_default,</span>
            <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;select a formatter by name or provide a custom Formatter &#39;</span>
            <span style="color: #D5FF80">&quot;subclass (default: &#39;pretty&#39; on terminals, &quot;</span>
            <span style="color: #D5FF80">&quot;&#39;json&#39; when piped, and &#39;raw&#39; when redirected)&quot;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">)</span>

    <span style="color: #7E8AA1">## parser help ##</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">get_help</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">doc:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Return the first line of a documentation string.&quot;&quot;&quot;</span>
        <span style="color: #D4D2C8">doc</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">doc</span> <span style="color: #FFAD66">or</span> <span style="color: #D5FF80">&#39;</span><span style="color: #95E6CB">\n</span><span style="color: #D5FF80">&#39;</span>
        <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">doc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">splitlines()[</span><span style="color: #DFBFFF">0</span><span style="color: #D4D2C8">]</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">get_argument_help</span><span style="color: #D4D2C8">(</span>
        <span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">doc:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">hint:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">default:</span> <span style="color: #D4D2C8">Any</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span>
    <span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Build an argparse help string that includes hints and defaults.&quot;&quot;&quot;</span>
        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">is_stream_hint(hint):</span>
            <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">=</span> <span style="color: #D5FF80">&quot;path or &#39;-&#39; for stdin&quot;</span>
        <span style="color: #D4D2C8">help</span> <span style="color: #FFAD66">=</span> <span style="color: #D5FF80">&#39;&lt;</span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80">&gt;&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(hint)</span> <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">else</span> <span style="color: #D5FF80">&#39;&#39;</span>
        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">doc:</span>
            <span style="color: #D4D2C8">help</span> <span style="color: #FFAD66">=</span> <span style="color: #D5FF80">&#39;</span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80"> </span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80">&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(doc,</span> <span style="color: #D4D2C8">help)</span>
        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">default</span> <span style="color: #FFAD66">not</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">[Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">empty,</span> <span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">SUPPRESS,</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">]:</span>
            <span style="color: #D4D2C8">help</span> <span style="color: #FFAD66">+=</span> <span style="color: #D5FF80">&#39; (default: </span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80">)&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(default)</span>
        <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">help</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">get_argument_hint</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">hint:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Return a placeholder string usable as metavar text.&quot;&quot;&quot;</span>
        <span style="color: #FFAD66">if</span> <span style="color: #FFAD66">not</span> <span style="color: #D4D2C8">hint:</span>
            <span style="color: #FFAD66">return</span> <span style="color: #D5FF80">&#39;&lt;str&gt;&#39;</span>
        <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">COLLECTION_TYPES:</span>
            <span style="color: #FFAD66">return</span> <span style="color: #D5FF80">&#39;&lt;path or JSON&gt;&#39;</span>
        <span style="color: #FFAD66">else</span><span style="color: #D4D2C8">:</span>
            <span style="color: #FFAD66">return</span> <span style="color: #D5FF80">&#39;&lt;</span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80">&gt;&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(hint)</span>

    <span style="color: #7E8AA1">## parser utils ##</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">get_converter</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">hint:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Callable[[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">],</span> <span style="color: #D4D2C8">Any]:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Returns a type converter keyed to a specific typehint.&quot;&quot;&quot;</span>
        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">==</span> <span style="color: #D5FF80">&#39;int&#39;</span><span style="color: #D4D2C8">:</span>

            <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">conv</span><span style="color: #D4D2C8">(value:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
                <span style="color: #FFAD66">return</span> <span style="color: #FFD173">int</span><span style="color: #D4D2C8">(value)</span>
        <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">==</span> <span style="color: #D5FF80">&#39;float&#39;</span><span style="color: #D4D2C8">:</span>

            <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">conv</span><span style="color: #D4D2C8">(value:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
                <span style="color: #FFAD66">return</span> <span style="color: #FFD173">float</span><span style="color: #D4D2C8">(value)</span>
        <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">==</span> <span style="color: #D5FF80">&#39;bytes&#39;</span><span style="color: #D4D2C8">:</span>

            <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">conv</span><span style="color: #D4D2C8">(value:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
                <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">value</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">encode()</span>
        <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">is_stream_hint(hint):</span>

            <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">conv</span><span style="color: #D4D2C8">(value:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
                <span style="color: #D4D2C8">fp</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">cast(BinaryIO,</span> <span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">FileType(</span><span style="color: #D5FF80">&#39;rb&#39;</span><span style="color: #D4D2C8">)(value))</span>
                <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">path</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">iter_file(fp)</span>
        <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">==</span> <span style="color: #D5FF80">&#39;keyword&#39;</span><span style="color: #D4D2C8">:</span>

            <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">conv</span><span style="color: #D4D2C8">(value:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
                <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">value</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">split(</span><span style="color: #D5FF80">&#39;=&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #DFBFFF">1</span><span style="color: #D4D2C8">)</span>
        <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">==</span> <span style="color: #D5FF80">&#39;datetime&#39;</span><span style="color: #D4D2C8">:</span>

            <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">conv</span><span style="color: #D4D2C8">(value:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
                <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
                    <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">datetime</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">datetime</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">strptime(value,</span> <span style="color: #D4D2C8">DATETIME_FORMAT)</span>
                <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">ValueError</span><span style="color: #D4D2C8">:</span>
                    <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
                        <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">datetime</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">datetime</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">strptime(value,</span> <span style="color: #D4D2C8">DATE_FORMAT)</span>
                    <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">Exception</span><span style="color: #D4D2C8">:</span>
                        <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">datetime</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">datetime</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">combine(</span>
                            <span style="color: #D4D2C8">datetime</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">date</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">today(),</span>
                            <span style="color: #D4D2C8">datetime</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">datetime</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">strptime(value,</span> <span style="color: #D4D2C8">TIME_FORMAT)</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">time(),</span>
                        <span style="color: #D4D2C8">)</span>
        <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">==</span> <span style="color: #D5FF80">&#39;stream&#39;</span><span style="color: #D4D2C8">:</span>

            <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">conv</span><span style="color: #D4D2C8">(value:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
                <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">(x</span> <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">x</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">value)</span>
        <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">COLLECTION_TYPES:</span>

            <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">conv</span><span style="color: #D4D2C8">(value:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
                <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
                    <span style="color: #FFAD66">with</span> <span style="color: #FFD173">open</span><span style="color: #D4D2C8">(value)</span> <span style="color: #FFAD66">as</span> <span style="color: #D4D2C8">f:</span>
                        <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">json</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">load(f)</span>
                <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">Exception</span><span style="color: #D4D2C8">:</span>
                    <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">json</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">loads(value)</span>
        <span style="color: #FFAD66">else</span><span style="color: #D4D2C8">:</span>

            <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">conv</span><span style="color: #D4D2C8">(value:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
                <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">value</span>

        <span style="color: #7E8AA1"># the converter name is used in error messages</span>
        <span style="color: #D4D2C8">conv</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">__name__</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">or</span> <span style="color: #D5FF80">&#39;str&#39;</span>

        <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">conv</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">print_status</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">status:</span> <span style="color: #FFD173">dict</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Any])</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">        </span><span style="color: #7E8AA1">&quot;&quot;&quot;Prints the server version and status data.&quot;&quot;&quot;</span>
        <span style="color: #7E8AA1"># TODO: abide by --format flag</span>
        <span style="color: #D4D2C8">width</span> <span style="color: #FFAD66">=</span> <span style="color: #FFD173">max</span><span style="color: #D4D2C8">(</span><span style="color: #FFD173">len</span><span style="color: #D4D2C8">(k)</span> <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">k</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">status)</span>
        <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">k,</span> <span style="color: #D4D2C8">v</span> <span style="color: #FFAD66">in</span> <span style="color: #FFD173">sorted</span><span style="color: #D4D2C8">(status</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">items()):</span>
            <span style="color: #FFD173">print</span><span style="color: #D4D2C8">(</span><span style="color: #D5FF80">&#39;{:&gt;</span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80">}: </span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80">&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(k,</span> <span style="color: #D4D2C8">width,</span> <span style="color: #D4D2C8">v</span> <span style="color: #FFAD66">or</span> <span style="color: #D5FF80">&#39;-&#39;</span><span style="color: #D4D2C8">))</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="snekrpc.cli.Parser.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #FFD173">__init__</span><span style="color: #D4D2C8">()</span></code>

<a href="#snekrpc.cli.Parser.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Initialize the base parser and global argument definitions.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/cli.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">39</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">40</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">41</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">42</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">43</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">__init__</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Initialize the base parser and global argument definitions.&quot;&quot;&quot;</span>
    <span style="color: #7E8AA1"># global args</span>
    <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">base_parser</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ArgumentParser(add_help</span><span style="color: #FFAD66">=False</span><span style="color: #D4D2C8">)</span>
    <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_global_args(</span><span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">base_parser)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.cli.Parser.add_command_args" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">add_command_args(parser,</span> <span style="color: #D4D2C8">cmd,</span> <span style="color: #D4D2C8">single_flags</span><span style="color: #FFAD66">=True</span><span style="color: #D4D2C8">)</span></code>

<a href="#snekrpc.cli.Parser.add_command_args" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Translate command metadata into argparse arguments.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/cli.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">363</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">364</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">365</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">366</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">367</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">368</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">369</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">370</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">371</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">372</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">373</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">374</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">375</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">376</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">377</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">378</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">379</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">380</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">381</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">382</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">383</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">384</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">385</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">386</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">387</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">388</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">389</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">390</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">391</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">392</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">393</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">394</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">395</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">396</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">397</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">398</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">399</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">400</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">401</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">402</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">403</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">404</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">405</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">406</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">407</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">408</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">409</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">add_command_args</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">parser:</span> <span style="color: #D4D2C8">Any,</span> <span style="color: #D4D2C8">cmd:</span> <span style="color: #D4D2C8">SignatureSpec,</span> <span style="color: #D4D2C8">single_flags:</span> <span style="color: #FFD173">bool</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">True</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Translate command metadata into argparse arguments.&quot;&quot;&quot;</span>

    <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">is_option_arg</span><span style="color: #D4D2C8">(param:</span> <span style="color: #D4D2C8">ParameterSpec)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">bool</span><span style="color: #D4D2C8">:</span>
        <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">==</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">VAR_KEYWORD</span> <span style="color: #FFAD66">or</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">has_default</span>

    <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">single_flags:</span>
        <span style="color: #7E8AA1"># keep track of used single char flags</span>
        <span style="color: #D4D2C8">chars</span> <span style="color: #FFAD66">=</span> <span style="color: #FFD173">set</span><span style="color: #D4D2C8">(</span><span style="color: #D5FF80">&#39;h&#39;</span><span style="color: #D4D2C8">)</span>
        <span style="color: #7E8AA1"># include single char arguments</span>
        <span style="color: #D4D2C8">chars</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">update(</span>
            <span style="color: #D4D2C8">p</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">p</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">cmd</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">parameters</span> <span style="color: #FFAD66">if</span> <span style="color: #FFD173">len</span><span style="color: #D4D2C8">(p</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name)</span> <span style="color: #FFAD66">==</span> <span style="color: #DFBFFF">1</span> <span style="color: #FFAD66">and</span> <span style="color: #FFAD66">not</span> <span style="color: #D4D2C8">is_option_arg(p)</span>
        <span style="color: #D4D2C8">)</span>
    <span style="color: #FFAD66">else</span><span style="color: #D4D2C8">:</span>
        <span style="color: #D4D2C8">chars</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span>

    <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">param</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">cmd</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">parameters:</span>
        <span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name</span>
        <span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span>
        <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">annotation</span>
        <span style="color: #D4D2C8">doc</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">doc</span>

        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">hide:</span>
            <span style="color: #FFAD66">continue</span>

        <span style="color: #D4D2C8">kwargs:</span> <span style="color: #FFD173">dict</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Any]</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">{</span><span style="color: #D5FF80">&#39;metavar&#39;</span><span style="color: #D4D2C8">:</span> <span style="color: #D4D2C8">name}</span>

        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">has_default:</span>
            <span style="color: #D4D2C8">kwargs[</span><span style="color: #D5FF80">&#39;default&#39;</span><span style="color: #D4D2C8">]</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">default</span>

        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">{Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">KEYWORD_ONLY,</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">VAR_KEYWORD}:</span>  <span style="color: #7E8AA1"># **kwargs</span>
            <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_option_arg(parser,</span> <span style="color: #D4D2C8">param,</span> <span style="color: #D4D2C8">chars)</span>

        <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">has_default:</span>  <span style="color: #7E8AA1"># args with defaults</span>
            <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_option_arg(parser,</span> <span style="color: #D4D2C8">param,</span> <span style="color: #D4D2C8">chars)</span>

        <span style="color: #FFAD66">else</span><span style="color: #D4D2C8">:</span>  <span style="color: #7E8AA1"># positional args</span>
            <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">==</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">VAR_POSITIONAL:</span>  <span style="color: #7E8AA1"># *args</span>
                <span style="color: #D4D2C8">kwargs[</span><span style="color: #D5FF80">&#39;nargs&#39;</span><span style="color: #D4D2C8">]</span> <span style="color: #FFAD66">=</span> <span style="color: #D5FF80">&#39;*&#39;</span>

            <span style="color: #D4D2C8">kwargs</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">update(</span>
                <span style="color: #D4D2C8">{</span>
                    <span style="color: #D5FF80">&#39;type&#39;</span><span style="color: #D4D2C8">:</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_converter(hint),</span>
                    <span style="color: #D5FF80">&#39;help&#39;</span><span style="color: #D4D2C8">:</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_argument_help(doc,</span> <span style="color: #D4D2C8">hint,</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">default),</span>
                <span style="color: #D4D2C8">}</span>
            <span style="color: #D4D2C8">)</span>
            <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(name,</span> <span style="color: #FFAD66">**</span><span style="color: #D4D2C8">kwargs)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.cli.Parser.add_global_args" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">add_global_args(parser)</span></code>

<a href="#snekrpc.cli.Parser.add_global_args" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Adds an argument group to <em>parser</em> for global arguments.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/cli.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">495</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">496</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">497</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">498</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">499</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">500</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">501</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">502</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">503</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">504</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">505</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">506</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">507</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">508</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">509</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">510</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">511</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">512</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">513</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">514</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">515</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">516</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">517</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">518</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">519</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">520</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">521</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">522</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">523</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">524</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">525</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">526</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">527</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">528</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">529</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">530</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">531</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">532</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">533</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">534</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">535</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">536</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">537</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">538</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">539</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">540</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">541</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">542</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">543</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">544</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">545</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">546</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">547</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">548</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">549</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">550</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">551</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">552</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">553</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">554</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">555</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">556</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">557</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">558</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">559</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">560</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">561</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">562</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">563</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">564</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">565</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">566</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">567</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">568</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">569</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">570</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">571</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">572</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">573</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">574</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">575</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">576</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">577</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">578</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">579</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">580</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">581</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">582</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">583</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">584</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">585</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">586</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">587</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">588</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">589</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">590</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">591</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">592</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">593</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">594</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">595</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">596</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">597</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">598</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">599</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">600</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">601</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">602</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">603</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">604</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">605</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">606</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">add_global_args</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">parser:</span> <span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ArgumentParser)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Adds an argument group to *parser* for global arguments.&quot;&quot;&quot;</span>

    <span style="color: #D4D2C8">egroup</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_mutually_exclusive_group()</span>
    <span style="color: #D4D2C8">egroup</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
        <span style="color: #D5FF80">&#39;-C&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D5FF80">&#39;--client&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">action</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;store_false&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">dest</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;server_mode&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;start in client mode (default)&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">default</span><span style="color: #FFAD66">=False</span><span style="color: #D4D2C8">,</span>
    <span style="color: #D4D2C8">)</span>
    <span style="color: #D4D2C8">egroup</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
        <span style="color: #D5FF80">&#39;-S&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D5FF80">&#39;--server&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">action</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;store_true&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">dest</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;server_mode&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;start in server mode&#39;</span>
    <span style="color: #D4D2C8">)</span>

    <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
        <span style="color: #D5FF80">&#39;-l&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D5FF80">&#39;--list&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">choices</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">[</span><span style="color: #D5FF80">&#39;codecs&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D5FF80">&#39;formatters&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D5FF80">&#39;services&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D5FF80">&#39;transports&#39;</span><span style="color: #D4D2C8">],</span>
        <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;list the modules available for the selected category&#39;</span><span style="color: #D4D2C8">,</span>
    <span style="color: #D4D2C8">)</span>
    <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
        <span style="color: #D5FF80">&#39;-v&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D5FF80">&#39;--verbose&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">action</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;count&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">default</span><span style="color: #FFAD66">=</span><span style="color: #DFBFFF">0</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;enable verbose output (-vv for more)&#39;</span><span style="color: #D4D2C8">,</span>
    <span style="color: #D4D2C8">)</span>
    <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
        <span style="color: #D5FF80">&#39;-V&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D5FF80">&#39;--version&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">nargs</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;?&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">const</span><span style="color: #FFAD66">=True</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;show server version (client) or set server version (server)&#39;</span><span style="color: #D4D2C8">,</span>
    <span style="color: #D4D2C8">)</span>

    <span style="color: #D4D2C8">group</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument_group(</span><span style="color: #D5FF80">&#39;configuration arguments&#39;</span><span style="color: #D4D2C8">)</span>

    <span style="color: #D4D2C8">group</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
        <span style="color: #D5FF80">&#39;-u&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D5FF80">&#39;--url&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #FFD173">type</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">url</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Url,</span>
        <span style="color: #D4D2C8">default</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">DEFAULT_URL,</span>
        <span style="color: #D4D2C8">metavar</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;TRANSPORT://HOST:PORT&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;URL to connect or bind to (default: </span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80">)&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">DEFAULT_URL),</span>
    <span style="color: #D4D2C8">)</span>
    <span style="color: #D4D2C8">group</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
        <span style="color: #D5FF80">&#39;-i&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D5FF80">&#39;--import&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">action</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;append&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">dest</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;imports&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">metavar</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;IMPORT&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">default</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">[],</span>
        <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;import an additional (codec/formatter/service/transport) module&#39;</span><span style="color: #D4D2C8">,</span>
    <span style="color: #D4D2C8">)</span>
    <span style="color: #D4D2C8">group</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
        <span style="color: #D5FF80">&#39;-c&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D5FF80">&#39;--codec&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;the codec format to use (default: </span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80"> on server)&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(interface</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">DEFAULT_CODEC),</span>
    <span style="color: #D4D2C8">)</span>
    <span style="color: #D4D2C8">group</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
        <span style="color: #D5FF80">&#39;-s&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D5FF80">&#39;--service&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">action</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;append&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">dest</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;services&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">metavar</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;SERVICE[:alias]&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">default</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">[],</span>
        <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;register a service with the server (can be set multiple times)&#39;</span><span style="color: #D4D2C8">,</span>
    <span style="color: #D4D2C8">)</span>

    <span style="color: #D4D2C8">group</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument_group(</span><span style="color: #D5FF80">&#39;client arguments&#39;</span><span style="color: #D4D2C8">)</span>

    <span style="color: #D4D2C8">group</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
        <span style="color: #D5FF80">&#39;-t&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D5FF80">&#39;--timeout&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #FFD173">type</span><span style="color: #FFAD66">=</span><span style="color: #FFD173">float</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;number of seconds to wait for a response (default: no timeout)&#39;</span><span style="color: #D4D2C8">,</span>
    <span style="color: #D4D2C8">)</span>
    <span style="color: #D4D2C8">group</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
        <span style="color: #D5FF80">&#39;-r&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D5FF80">&#39;--retry-count&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #FFD173">type</span><span style="color: #FFAD66">=</span><span style="color: #FFD173">int</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;number of retry attempts to make (-1 for unlimited, default: no retries)&#39;</span><span style="color: #D4D2C8">,</span>
    <span style="color: #D4D2C8">)</span>
    <span style="color: #D4D2C8">group</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
        <span style="color: #D5FF80">&#39;--retry-interval&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #FFD173">type</span><span style="color: #FFAD66">=</span><span style="color: #FFD173">float</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;number of seconds between retry attempts (default: 1.0)&#39;</span><span style="color: #D4D2C8">,</span>
    <span style="color: #D4D2C8">)</span>

    <span style="color: #D4D2C8">group</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument_group(</span><span style="color: #D5FF80">&#39;server arguments&#39;</span><span style="color: #D4D2C8">)</span>

    <span style="color: #D4D2C8">group</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
        <span style="color: #D5FF80">&#39;--remote-tracebacks&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">action</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;store_true&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;send tracebacks with errors&#39;</span>
    <span style="color: #D4D2C8">)</span>

    <span style="color: #D4D2C8">group</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument_group(</span><span style="color: #D5FF80">&#39;output arguments&#39;</span><span style="color: #D4D2C8">)</span>

    <span style="color: #D4D2C8">format_default</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">{</span>
        <span style="color: #D5FF80">&#39;piped&#39;</span><span style="color: #D4D2C8">:</span> <span style="color: #D5FF80">&#39;json&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D5FF80">&#39;redirected&#39;</span><span style="color: #D4D2C8">:</span> <span style="color: #D5FF80">&#39;raw&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D5FF80">&#39;terminal&#39;</span><span style="color: #D4D2C8">:</span> <span style="color: #D5FF80">&#39;pretty&#39;</span><span style="color: #D4D2C8">,</span>
    <span style="color: #D4D2C8">}[io_stat_mode()]</span>
    <span style="color: #D4D2C8">group</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
        <span style="color: #D5FF80">&#39;-f&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D5FF80">&#39;--format&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">default</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">format_default,</span>
        <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;select a formatter by name or provide a custom Formatter &#39;</span>
        <span style="color: #D5FF80">&quot;subclass (default: &#39;pretty&#39; on terminals, &quot;</span>
        <span style="color: #D5FF80">&quot;&#39;json&#39; when piped, and &#39;raw&#39; when redirected)&quot;</span><span style="color: #D4D2C8">,</span>
    <span style="color: #D4D2C8">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.cli.Parser.add_option_arg" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">add_option_arg(parser,</span> <span style="color: #D4D2C8">param,</span> <span style="color: #D4D2C8">chars</span><span style="color: #FFAD66">=None</span><span style="color: #D4D2C8">)</span></code>

<a href="#snekrpc.cli.Parser.add_option_arg" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Add an individual option flag, handling bool/kwargs special cases.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/cli.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">411</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">412</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">413</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">414</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">415</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">416</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">417</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">418</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">419</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">420</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">421</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">422</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">423</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">424</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">425</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">426</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">427</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">428</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">429</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">430</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">431</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">432</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">433</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">434</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">435</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">436</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">437</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">438</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">439</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">440</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">441</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">442</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">443</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">444</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">445</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">446</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">447</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">448</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">449</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">450</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">451</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">452</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">453</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">454</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">455</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">456</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">457</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">458</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">459</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">460</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">461</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">462</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">463</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">464</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">465</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">466</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">467</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">468</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">469</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">470</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">471</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">472</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">473</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">474</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">475</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">476</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">477</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">478</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">479</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">480</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">481</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">482</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">483</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">484</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">485</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">486</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">487</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">488</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">489</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">490</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">491</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">492</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">493</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">add_option_arg</span><span style="color: #D4D2C8">(</span>
    <span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">parser:</span> <span style="color: #D4D2C8">Any,</span> <span style="color: #D4D2C8">param:</span> <span style="color: #D4D2C8">ParameterSpec,</span> <span style="color: #D4D2C8">chars:</span> <span style="color: #FFD173">set</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">]</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span>
<span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Add an individual option flag, handling bool/kwargs special cases.&quot;&quot;&quot;</span>
    <span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name</span>
    <span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span>
    <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">annotation</span>
    <span style="color: #D4D2C8">doc</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">doc</span>
    <span style="color: #D4D2C8">default</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">default</span>

    <span style="color: #7E8AA1"># use dashes instead of underscores for param names</span>
    <span style="color: #D4D2C8">flag_name</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">name</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">replace(</span><span style="color: #D5FF80">&#39;_&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D5FF80">&#39;-&#39;</span><span style="color: #D4D2C8">)</span>

    <span style="color: #7E8AA1"># check for possible short flags</span>
    <span style="color: #D4D2C8">flags</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">[]</span>
    <span style="color: #D4D2C8">added</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">False</span>
    <span style="color: #D4D2C8">c</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">flag_name[</span><span style="color: #DFBFFF">0</span><span style="color: #D4D2C8">]</span>
    <span style="color: #D4D2C8">C</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">c</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">upper()</span>

    <span style="color: #7E8AA1"># check if the lower or uppercase char is unique</span>
    <span style="color: #FFAD66">if</span> <span style="color: #FFAD66">not</span> <span style="color: #D4D2C8">chars:</span>
        <span style="color: #7E8AA1"># don&#39;t add a short flag</span>
        <span style="color: #FFAD66">pass</span>
    <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">c</span> <span style="color: #FFAD66">not</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">chars:</span>
        <span style="color: #D4D2C8">flags</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">append(</span><span style="color: #D5FF80">&#39;-&#39;</span> <span style="color: #FFAD66">+</span> <span style="color: #D4D2C8">c)</span>
        <span style="color: #D4D2C8">chars</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add(c)</span>
        <span style="color: #D4D2C8">added</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">True</span>
    <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">C</span> <span style="color: #FFAD66">not</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">chars:</span>
        <span style="color: #D4D2C8">flags</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">append(</span><span style="color: #D5FF80">&#39;-&#39;</span> <span style="color: #FFAD66">+</span> <span style="color: #D4D2C8">C)</span>
        <span style="color: #D4D2C8">chars</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add(C)</span>
        <span style="color: #D4D2C8">added</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">True</span>

    <span style="color: #7E8AA1"># add a long flag if no short flag was added</span>
    <span style="color: #7E8AA1"># add a long flag if the name is more than 1 character</span>
    <span style="color: #FFAD66">if</span> <span style="color: #FFAD66">not</span> <span style="color: #D4D2C8">added</span> <span style="color: #FFAD66">or</span> <span style="color: #FFD173">len</span><span style="color: #D4D2C8">(flag_name)</span> <span style="color: #FFAD66">&gt;</span> <span style="color: #DFBFFF">1</span><span style="color: #D4D2C8">:</span>
        <span style="color: #D4D2C8">flags</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">append(</span><span style="color: #D5FF80">&#39;--&#39;</span> <span style="color: #FFAD66">+</span> <span style="color: #D4D2C8">flag_name)</span>

    <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">==</span> <span style="color: #D5FF80">&#39;bool&#39;</span><span style="color: #D4D2C8">:</span>
        <span style="color: #7E8AA1"># handle bool special case</span>
        <span style="color: #D4D2C8">group</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_mutually_exclusive_group()</span>
        <span style="color: #FFAD66">if</span> <span style="color: #FFAD66">not</span> <span style="color: #D4D2C8">default:</span>
            <span style="color: #7E8AA1"># in case default is None</span>
            <span style="color: #D4D2C8">default</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">False</span>

        <span style="color: #D4D2C8">help</span> <span style="color: #FFAD66">=</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_argument_help(doc)</span>

        <span style="color: #7E8AA1"># add a flag for the True value</span>
        <span style="color: #D4D2C8">group</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
            <span style="color: #FFAD66">*</span><span style="color: #D4D2C8">flags,</span>
            <span style="color: #D4D2C8">action</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;store_true&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">default</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">default,</span>
            <span style="color: #D4D2C8">dest</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">name,</span>
            <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">help</span> <span style="color: #FFAD66">+</span> <span style="color: #D5FF80">&#39; (default)&#39;</span> <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">default</span> <span style="color: #FFAD66">is</span> <span style="color: #FFAD66">True</span> <span style="color: #FFAD66">else</span> <span style="color: #D5FF80">&#39;&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">)</span>

        <span style="color: #7E8AA1"># add a flag for the False value</span>
        <span style="color: #D4D2C8">group</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
            <span style="color: #D5FF80">&#39;--no-&#39;</span> <span style="color: #FFAD66">+</span> <span style="color: #D4D2C8">flag_name,</span>
            <span style="color: #D4D2C8">action</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;store_false&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">dest</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">name,</span>
            <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">help</span> <span style="color: #FFAD66">+</span> <span style="color: #D5FF80">&#39; (default)&#39;</span> <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">default</span> <span style="color: #FFAD66">is</span> <span style="color: #FFAD66">False</span> <span style="color: #FFAD66">else</span> <span style="color: #D5FF80">&#39;&#39;</span><span style="color: #D4D2C8">,</span>
        <span style="color: #D4D2C8">)</span>

    <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">==</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">VAR_KEYWORD:</span>
        <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
            <span style="color: #FFAD66">*</span><span style="color: #D4D2C8">flags,</span>
            <span style="color: #D4D2C8">action</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;append&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">dest</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">name,</span>
            <span style="color: #FFD173">type</span><span style="color: #FFAD66">=</span><span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_converter(</span><span style="color: #D5FF80">&#39;keyword&#39;</span><span style="color: #D4D2C8">),</span>
            <span style="color: #D4D2C8">metavar</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;name=value&#39;</span><span style="color: #D4D2C8">,</span>
            <span style="color: #D4D2C8">default</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">default,</span>
            <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_argument_help(doc,</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">default),</span>
        <span style="color: #D4D2C8">)</span>

    <span style="color: #FFAD66">else</span><span style="color: #D4D2C8">:</span>
        <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
            <span style="color: #FFAD66">*</span><span style="color: #D4D2C8">flags,</span>
            <span style="color: #D4D2C8">dest</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">name,</span>
            <span style="color: #FFD173">type</span><span style="color: #FFAD66">=</span><span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_converter(hint),</span>
            <span style="color: #D4D2C8">metavar</span><span style="color: #FFAD66">=</span><span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_argument_hint(hint),</span>
            <span style="color: #D4D2C8">default</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">default,</span>
            <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_argument_help(doc,</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">default),</span>
        <span style="color: #D4D2C8">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.cli.Parser.add_service_args" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">add_service_args(parser,</span> <span style="color: #5CCFE6">cls</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">alias)</span></code>

<a href="#snekrpc.cli.Parser.add_service_args" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Expose <code>cls.__init__</code> parameters under the given service alias.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/cli.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">304</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">305</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">306</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">307</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">308</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">309</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">310</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">311</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">312</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">313</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">314</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">315</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">316</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">317</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">318</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">319</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">320</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">321</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">322</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">add_service_args</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">parser:</span> <span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ArgumentParser,</span> <span style="color: #5CCFE6">cls</span><span style="color: #D4D2C8">:</span> <span style="color: #D4D2C8">Any,</span> <span style="color: #D4D2C8">alias:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Expose ``cls.__init__`` parameters under the given service alias.&quot;&quot;&quot;</span>
    <span style="color: #D4D2C8">svc_parser</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument_group(</span><span style="color: #D5FF80">&#39;</span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80"> service arguments&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(alias))</span>

    <span style="color: #7E8AA1"># add a prefix to every param</span>
    <span style="color: #D4D2C8">cmd</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">function</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">encode(</span><span style="color: #5CCFE6">cls</span><span style="color: #FFAD66">.</span><span style="color: #FFD173">__init__</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">remove_self</span><span style="color: #FFAD66">=True</span><span style="color: #D4D2C8">)</span>
    <span style="color: #D4D2C8">params</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">[]</span>
    <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">param</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">cmd</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">parameters:</span>
        <span style="color: #D4D2C8">param</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">msgspec</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">structs</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">replace(</span>
            <span style="color: #D4D2C8">param,</span>
            <span style="color: #D4D2C8">name</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;_&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">join([</span><span style="color: #D5FF80">&#39;service&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">alias,</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name]),</span>
            <span style="color: #7E8AA1"># force keyword-only params for clarity</span>
            <span style="color: #D4D2C8">kind</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">==</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">VAR_KEYWORD</span> <span style="color: #FFAD66">else</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">KEYWORD_ONLY,</span>
        <span style="color: #D4D2C8">)</span>
        <span style="color: #FFAD66">if</span> <span style="color: #FFAD66">not</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">has_default:</span>
            <span style="color: #D4D2C8">param</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">msgspec</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">structs</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">replace(param,</span> <span style="color: #D4D2C8">default</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">SUPPRESS)</span>
        <span style="color: #D4D2C8">params</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">append(param)</span>

    <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_command_args(svc_parser,</span> <span style="color: #D4D2C8">cmd,</span> <span style="color: #D4D2C8">single_flags</span><span style="color: #FFAD66">=False</span><span style="color: #D4D2C8">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.cli.Parser.add_transport_args" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">add_transport_args(parser,</span> <span style="color: #5CCFE6">cls</span><span style="color: #D4D2C8">)</span></code>

<a href="#snekrpc.cli.Parser.add_transport_args" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Expose transport constructor parameters with a unique prefix.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/cli.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">324</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">325</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">326</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">327</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">328</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">329</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">330</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">331</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">332</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">333</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">334</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">335</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">336</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">337</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">338</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">339</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">340</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">341</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">342</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">343</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">344</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">345</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">346</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">347</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">348</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">349</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">350</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">351</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">352</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">add_transport_args</span><span style="color: #D4D2C8">(</span>
    <span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">parser:</span> <span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ArgumentParser,</span> <span style="color: #5CCFE6">cls</span><span style="color: #D4D2C8">:</span> <span style="color: #FFD173">type</span><span style="color: #D4D2C8">[transport</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Transport]</span>
<span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Expose transport constructor parameters with a unique prefix.&quot;&quot;&quot;</span>
    <span style="color: #D4D2C8">ignored</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">{</span><span style="color: #D5FF80">&#39;url&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D5FF80">&#39;timeout&#39;</span><span style="color: #D4D2C8">}</span>
    <span style="color: #D4D2C8">trn_name</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">transport</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">REGISTRY</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_name(</span><span style="color: #5CCFE6">cls</span><span style="color: #D4D2C8">)</span>

    <span style="color: #D4D2C8">trn_parser</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument_group(</span>
        <span style="color: #D5FF80">&#39;</span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80"> transport arguments&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(trn_name),</span>
        <span style="color: #D5FF80">&#39;To see arguments for another transport, set the &quot;--url&quot; argument&#39;</span><span style="color: #D4D2C8">,</span>
    <span style="color: #D4D2C8">)</span>

    <span style="color: #7E8AA1"># add a prefix to every param</span>
    <span style="color: #D4D2C8">cmd</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">function</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">encode(</span><span style="color: #5CCFE6">cls</span><span style="color: #FFAD66">.</span><span style="color: #FFD173">__init__</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">remove_self</span><span style="color: #FFAD66">=True</span><span style="color: #D4D2C8">)</span>
    <span style="color: #D4D2C8">params</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">[]</span>
    <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">param</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">cmd</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">parameters:</span>
        <span style="color: #D4D2C8">params</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">append(</span>
            <span style="color: #D4D2C8">msgspec</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">structs</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">replace(</span>
                <span style="color: #D4D2C8">param,</span>
                <span style="color: #D4D2C8">name</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;_&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">join([</span><span style="color: #D5FF80">&#39;transport&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">trn_name,</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name]),</span>
                <span style="color: #7E8AA1"># force keyword-only params for clarity</span>
                <span style="color: #D4D2C8">kind</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">==</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">VAR_KEYWORD</span> <span style="color: #FFAD66">else</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">KEYWORD_ONLY,</span>
                <span style="color: #D4D2C8">hide</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">ignored,</span>
            <span style="color: #D4D2C8">)</span>
        <span style="color: #D4D2C8">)</span>

    <span style="color: #D4D2C8">cmd</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">msgspec</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">structs</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">replace(cmd,</span> <span style="color: #D4D2C8">parameters</span><span style="color: #FFAD66">=</span><span style="color: #FFD173">tuple</span><span style="color: #D4D2C8">(params))</span>

    <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_command_args(trn_parser,</span> <span style="color: #D4D2C8">cmd,</span> <span style="color: #D4D2C8">single_flags</span><span style="color: #FFAD66">=False</span><span style="color: #D4D2C8">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.cli.Parser.add_transport_exception" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">add_transport_exception(parser,</span> <span style="color: #D4D2C8">name,</span> <span style="color: #D4D2C8">exc)</span></code>

<a href="#snekrpc.cli.Parser.add_transport_exception" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Display an error group when a transport fails to import.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/cli.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">354</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">355</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">356</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">357</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">358</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">359</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">360</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">361</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">add_transport_exception</span><span style="color: #D4D2C8">(</span>
    <span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">parser:</span> <span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ArgumentParser,</span> <span style="color: #D4D2C8">name:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">exc:</span> <span style="color: #73D0FF">Exception</span>
<span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Display an error group when a transport fails to import.&quot;&quot;&quot;</span>
    <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument_group(</span>
        <span style="color: #D5FF80">&#39;</span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80"> transport arguments&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(name),</span>
        <span style="color: #D5FF80">&#39;failed to load transport: </span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80">&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(exc),</span>
    <span style="color: #D4D2C8">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.cli.Parser.get_argument_help" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">get_argument_help(doc</span><span style="color: #FFAD66">=None</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">hint</span><span style="color: #FFAD66">=None</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">default</span><span style="color: #FFAD66">=None</span><span style="color: #D4D2C8">)</span></code>

<a href="#snekrpc.cli.Parser.get_argument_help" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Build an argparse help string that includes hints and defaults.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/cli.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">615</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">616</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">617</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">618</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">619</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">620</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">621</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">622</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">623</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">624</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">625</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">626</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">get_argument_help</span><span style="color: #D4D2C8">(</span>
    <span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">doc:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">hint:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">default:</span> <span style="color: #D4D2C8">Any</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span>
<span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Build an argparse help string that includes hints and defaults.&quot;&quot;&quot;</span>
    <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">is_stream_hint(hint):</span>
        <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">=</span> <span style="color: #D5FF80">&quot;path or &#39;-&#39; for stdin&quot;</span>
    <span style="color: #D4D2C8">help</span> <span style="color: #FFAD66">=</span> <span style="color: #D5FF80">&#39;&lt;</span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80">&gt;&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(hint)</span> <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">else</span> <span style="color: #D5FF80">&#39;&#39;</span>
    <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">doc:</span>
        <span style="color: #D4D2C8">help</span> <span style="color: #FFAD66">=</span> <span style="color: #D5FF80">&#39;</span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80"> </span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80">&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(doc,</span> <span style="color: #D4D2C8">help)</span>
    <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">default</span> <span style="color: #FFAD66">not</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">[Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">empty,</span> <span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">SUPPRESS,</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">]:</span>
        <span style="color: #D4D2C8">help</span> <span style="color: #FFAD66">+=</span> <span style="color: #D5FF80">&#39; (default: </span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80">)&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(default)</span>
    <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">help</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.cli.Parser.get_argument_hint" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">get_argument_hint(hint)</span></code>

<a href="#snekrpc.cli.Parser.get_argument_hint" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Return a placeholder string usable as metavar text.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/cli.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">628</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">629</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">630</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">631</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">632</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">633</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">634</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">635</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">get_argument_hint</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">hint:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Return a placeholder string usable as metavar text.&quot;&quot;&quot;</span>
    <span style="color: #FFAD66">if</span> <span style="color: #FFAD66">not</span> <span style="color: #D4D2C8">hint:</span>
        <span style="color: #FFAD66">return</span> <span style="color: #D5FF80">&#39;&lt;str&gt;&#39;</span>
    <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">COLLECTION_TYPES:</span>
        <span style="color: #FFAD66">return</span> <span style="color: #D5FF80">&#39;&lt;path or JSON&gt;&#39;</span>
    <span style="color: #FFAD66">else</span><span style="color: #D4D2C8">:</span>
        <span style="color: #FFAD66">return</span> <span style="color: #D5FF80">&#39;&lt;</span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80">&gt;&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(hint)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.cli.Parser.get_command_args" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">get_command_args(args)</span></code>

<a href="#snekrpc.cli.Parser.get_command_args" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Processes the command-line arguments and returns the arguments to
pass to the selected command.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/cli.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">276</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">277</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">278</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">279</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">280</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">281</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">282</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">283</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">284</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">285</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">286</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">287</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">288</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">289</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">290</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">291</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">292</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">293</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">294</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">295</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">296</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">297</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">298</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">299</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">300</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">get_command_args</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">args:</span> <span style="color: #D4D2C8">Args)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">tuple</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">list</span><span style="color: #D4D2C8">[Any],</span> <span style="color: #FFD173">dict</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Any]]:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Processes the command-line arguments and returns the arguments to</span>
<span style="color: #7E8AA1">    pass to the selected command.&quot;&quot;&quot;</span>
    <span style="color: #D4D2C8">cmd:</span> <span style="color: #D4D2C8">SignatureSpec</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">cmd_meta</span>

    <span style="color: #D4D2C8">cmd_args:</span> <span style="color: #FFD173">list</span><span style="color: #D4D2C8">[Any]</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">[]</span>
    <span style="color: #D4D2C8">cmd_kwargs:</span> <span style="color: #FFD173">dict</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Any]</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">{}</span>

    <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">param</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">cmd</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">parameters:</span>
        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">hide:</span>
            <span style="color: #FFAD66">continue</span>

        <span style="color: #D4D2C8">arg</span> <span style="color: #FFAD66">=</span> <span style="color: #FFD173">getattr</span><span style="color: #D4D2C8">(args,</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name)</span>
        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">{Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">POSITIONAL_ONLY,</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">POSITIONAL_OR_KEYWORD}:</span>
            <span style="color: #D4D2C8">cmd_args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">append(arg)</span>
        <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">==</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">VAR_POSITIONAL:</span>
            <span style="color: #D4D2C8">cmd_args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">extend(arg)</span>
        <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">==</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">VAR_KEYWORD:</span>
            <span style="color: #D4D2C8">cmd_kwargs</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">update(arg</span> <span style="color: #FFAD66">or</span> <span style="color: #D4D2C8">{})</span>
        <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span> <span style="color: #FFAD66">==</span> <span style="color: #D4D2C8">Param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">KEYWORD_ONLY:</span>
            <span style="color: #D4D2C8">cmd_kwargs[param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name]</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">arg</span>
        <span style="color: #FFAD66">else</span><span style="color: #D4D2C8">:</span>
            <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">AssertionError</span><span style="color: #D4D2C8">(</span><span style="color: #F29E74">f</span><span style="color: #D5FF80">&#39;unsupported argument kind: </span><span style="color: #95E6CB">{</span><span style="color: #D4D2C8">param</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">kind</span><span style="color: #95E6CB">}</span><span style="color: #D5FF80">&#39;</span><span style="color: #D4D2C8">)</span>

    <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">cmd_args,</span> <span style="color: #D4D2C8">cmd_kwargs</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.cli.Parser.get_converter" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">get_converter(hint)</span></code>

<a href="#snekrpc.cli.Parser.get_converter" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Returns a type converter keyed to a specific typehint.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/cli.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">639</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">640</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">641</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">642</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">643</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">644</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">645</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">646</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">647</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">648</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">649</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">650</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">651</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">652</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">653</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">654</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">655</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">656</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">657</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">658</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">659</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">660</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">661</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">662</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">663</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">664</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">665</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">666</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">667</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">668</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">669</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">670</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">671</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">672</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">673</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">674</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">675</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">676</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">677</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">678</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">679</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">680</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">681</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">682</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">683</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">684</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">685</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">686</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">687</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">688</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">689</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">690</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">691</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">692</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">693</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">694</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">695</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">get_converter</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">hint:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Callable[[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">],</span> <span style="color: #D4D2C8">Any]:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Returns a type converter keyed to a specific typehint.&quot;&quot;&quot;</span>
    <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">==</span> <span style="color: #D5FF80">&#39;int&#39;</span><span style="color: #D4D2C8">:</span>

        <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">conv</span><span style="color: #D4D2C8">(value:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
            <span style="color: #FFAD66">return</span> <span style="color: #FFD173">int</span><span style="color: #D4D2C8">(value)</span>
    <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">==</span> <span style="color: #D5FF80">&#39;float&#39;</span><span style="color: #D4D2C8">:</span>

        <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">conv</span><span style="color: #D4D2C8">(value:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
            <span style="color: #FFAD66">return</span> <span style="color: #FFD173">float</span><span style="color: #D4D2C8">(value)</span>
    <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">==</span> <span style="color: #D5FF80">&#39;bytes&#39;</span><span style="color: #D4D2C8">:</span>

        <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">conv</span><span style="color: #D4D2C8">(value:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
            <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">value</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">encode()</span>
    <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">is_stream_hint(hint):</span>

        <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">conv</span><span style="color: #D4D2C8">(value:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
            <span style="color: #D4D2C8">fp</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">cast(BinaryIO,</span> <span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">FileType(</span><span style="color: #D5FF80">&#39;rb&#39;</span><span style="color: #D4D2C8">)(value))</span>
            <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">path</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">iter_file(fp)</span>
    <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">==</span> <span style="color: #D5FF80">&#39;keyword&#39;</span><span style="color: #D4D2C8">:</span>

        <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">conv</span><span style="color: #D4D2C8">(value:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
            <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">value</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">split(</span><span style="color: #D5FF80">&#39;=&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #DFBFFF">1</span><span style="color: #D4D2C8">)</span>
    <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">==</span> <span style="color: #D5FF80">&#39;datetime&#39;</span><span style="color: #D4D2C8">:</span>

        <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">conv</span><span style="color: #D4D2C8">(value:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
            <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
                <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">datetime</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">datetime</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">strptime(value,</span> <span style="color: #D4D2C8">DATETIME_FORMAT)</span>
            <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">ValueError</span><span style="color: #D4D2C8">:</span>
                <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
                    <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">datetime</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">datetime</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">strptime(value,</span> <span style="color: #D4D2C8">DATE_FORMAT)</span>
                <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">Exception</span><span style="color: #D4D2C8">:</span>
                    <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">datetime</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">datetime</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">combine(</span>
                        <span style="color: #D4D2C8">datetime</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">date</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">today(),</span>
                        <span style="color: #D4D2C8">datetime</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">datetime</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">strptime(value,</span> <span style="color: #D4D2C8">TIME_FORMAT)</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">time(),</span>
                    <span style="color: #D4D2C8">)</span>
    <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">==</span> <span style="color: #D5FF80">&#39;stream&#39;</span><span style="color: #D4D2C8">:</span>

        <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">conv</span><span style="color: #D4D2C8">(value:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
            <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">(x</span> <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">x</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">value)</span>
    <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">COLLECTION_TYPES:</span>

        <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">conv</span><span style="color: #D4D2C8">(value:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
            <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
                <span style="color: #FFAD66">with</span> <span style="color: #FFD173">open</span><span style="color: #D4D2C8">(value)</span> <span style="color: #FFAD66">as</span> <span style="color: #D4D2C8">f:</span>
                    <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">json</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">load(f)</span>
            <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">Exception</span><span style="color: #D4D2C8">:</span>
                <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">json</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">loads(value)</span>
    <span style="color: #FFAD66">else</span><span style="color: #D4D2C8">:</span>

        <span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">conv</span><span style="color: #D4D2C8">(value:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #D4D2C8">Any:</span>
            <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">value</span>

    <span style="color: #7E8AA1"># the converter name is used in error messages</span>
    <span style="color: #D4D2C8">conv</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">__name__</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">hint</span> <span style="color: #FFAD66">or</span> <span style="color: #D5FF80">&#39;str&#39;</span>

    <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">conv</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.cli.Parser.get_help" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">get_help(doc)</span></code>

<a href="#snekrpc.cli.Parser.get_help" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Return the first line of a documentation string.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/cli.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">610</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">611</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">612</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">613</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">get_help</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">doc:</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Return the first line of a documentation string.&quot;&quot;&quot;</span>
    <span style="color: #D4D2C8">doc</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">doc</span> <span style="color: #FFAD66">or</span> <span style="color: #D5FF80">&#39;</span><span style="color: #95E6CB">\n</span><span style="color: #D5FF80">&#39;</span>
    <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">doc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">splitlines()[</span><span style="color: #DFBFFF">0</span><span style="color: #D4D2C8">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.cli.Parser.get_prefixed_args" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">get_prefixed_args(args)</span></code>

<a href="#snekrpc.cli.Parser.get_prefixed_args" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Split parsed values into transport and service dictionaries.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/cli.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">261</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">262</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">263</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">264</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">265</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">266</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">267</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">268</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">269</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">270</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">271</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">272</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">273</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">274</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">get_prefixed_args</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">args:</span> <span style="color: #D4D2C8">Args)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">tuple</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">dict</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Any],</span> <span style="color: #FFD173">dict</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Any]]:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Split parsed values into transport and service dictionaries.&quot;&quot;&quot;</span>
    <span style="color: #D4D2C8">pfx_args:</span> <span style="color: #FFD173">dict</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #FFD173">dict</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Any]]</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">{}</span>

    <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">name,</span> <span style="color: #D4D2C8">value</span> <span style="color: #FFAD66">in</span> <span style="color: #FFD173">vars</span><span style="color: #D4D2C8">(args)</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">items():</span>
        <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
            <span style="color: #D4D2C8">prefix,</span> <span style="color: #D4D2C8">cls_name,</span> <span style="color: #D4D2C8">arg_name</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">name</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">split(</span><span style="color: #D5FF80">&#39;_&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #DFBFFF">2</span><span style="color: #D4D2C8">)</span>
        <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">ValueError</span><span style="color: #D4D2C8">:</span>
            <span style="color: #FFAD66">continue</span>

        <span style="color: #D4D2C8">cls_args</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">pfx_args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">setdefault(prefix,</span> <span style="color: #D4D2C8">{})</span>
        <span style="color: #D4D2C8">cls_args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">setdefault(cls_name,</span> <span style="color: #D4D2C8">{})[arg_name]</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">value</span>

    <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">pfx_args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get(</span><span style="color: #D5FF80">&#39;transport&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">{}),</span> <span style="color: #D4D2C8">pfx_args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get(</span><span style="color: #D5FF80">&#39;service&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">{})</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.cli.Parser.main" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">main()</span></code>

<a href="#snekrpc.cli.Parser.main" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Processes command-line arguments and calls any selected command.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/cli.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 45</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 46</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 47</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 48</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 49</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 50</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 51</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 52</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 53</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 54</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 55</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 56</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 57</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 58</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 59</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 60</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 61</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 62</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 63</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 64</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 65</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 66</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 67</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 68</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 69</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 70</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 71</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 72</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 73</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 74</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 75</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 76</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 77</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 78</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 79</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 80</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 81</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 82</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 83</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 84</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 85</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 86</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 87</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 88</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 89</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 90</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 91</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 92</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 93</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 94</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 95</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 96</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 97</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 98</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 99</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">100</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">101</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">102</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">103</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">104</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">105</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">106</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">107</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">108</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">109</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">110</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">111</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">112</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">113</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">114</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">115</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">116</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">117</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">118</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">119</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">120</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">121</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">122</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">123</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">124</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">125</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">126</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">127</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">128</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">129</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">130</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">131</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">132</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">133</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">134</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">135</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">136</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">137</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">138</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">139</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">140</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">141</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">142</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">143</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">main</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Processes command-line arguments and calls any selected command.&quot;&quot;&quot;</span>

    <span style="color: #7E8AA1"># temp parser to grab connection arguments</span>
    <span style="color: #D4D2C8">parser</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ArgumentParser(add_help</span><span style="color: #FFAD66">=False</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">parents</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">[</span><span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">base_parser])</span>
    <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span>
        <span style="color: #D5FF80">&#39;-h&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D5FF80">&#39;--help&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">action</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;store_true&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;show this help message and exit&#39;</span>
    <span style="color: #D4D2C8">)</span>
    <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_argument(</span><span style="color: #D5FF80">&#39;rest&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">nargs</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">REMAINDER,</span> <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">SUPPRESS)</span>

    <span style="color: #D4D2C8">args,</span> <span style="color: #D4D2C8">extra_args</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">parse_known_args()</span>

    <span style="color: #D4D2C8">logs</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">init(args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">verbose)</span>

    <span style="color: #7E8AA1"># import built-in modules</span>
    <span style="color: #D4D2C8">registry</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">init()</span>

    <span style="color: #7E8AA1"># import additional modules</span>
    <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">imp</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">imports:</span>
        <span style="color: #D4D2C8">utils</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">path</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">import_module(imp)</span>

    <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">list:</span>
        <span style="color: #D4D2C8">meta</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">cast(</span>
            <span style="color: #D4D2C8">registry</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Registry[Any],</span>
            <span style="color: #D4D2C8">{</span>
                <span style="color: #D5FF80">&#39;codecs&#39;</span><span style="color: #D4D2C8">:</span> <span style="color: #D4D2C8">codec</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">REGISTRY,</span>
                <span style="color: #D5FF80">&#39;formatters&#39;</span><span style="color: #D4D2C8">:</span> <span style="color: #D4D2C8">formatter</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">REGISTRY,</span>
                <span style="color: #D5FF80">&#39;services&#39;</span><span style="color: #D4D2C8">:</span> <span style="color: #D4D2C8">service</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">REGISTRY,</span>
                <span style="color: #D5FF80">&#39;transports&#39;</span><span style="color: #D4D2C8">:</span> <span style="color: #D4D2C8">transport</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">REGISTRY,</span>
            <span style="color: #D4D2C8">}[args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">list],</span>
        <span style="color: #D4D2C8">)</span>

        <span style="color: #7E8AA1"># select an output formatter</span>
        <span style="color: #D4D2C8">fmt</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span>
        <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
            <span style="color: #D4D2C8">fmt</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">formatter</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">create(args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format)</span>
        <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">Exception</span> <span style="color: #FFAD66">as</span> <span style="color: #D4D2C8">e:</span>
            <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">verbose:</span>
                <span style="color: #FFAD66">raise</span>
            <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">error(</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">(e))</span>
        <span style="color: #FFAD66">assert</span> <span style="color: #D4D2C8">fmt</span> <span style="color: #FFAD66">is</span> <span style="color: #FFAD66">not</span> <span style="color: #FFAD66">None</span>

        <span style="color: #D4D2C8">fmt</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">process(meta</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">names())</span>
        <span style="color: #FFAD66">return</span>

    <span style="color: #7E8AA1"># parser for transport and service args</span>
    <span style="color: #D4D2C8">parser</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ArgumentParser(parents</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">[</span><span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">base_parser])</span>

    <span style="color: #D4D2C8">transport_cls</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">transport</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get(args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">url)</span>
    <span style="color: #FFAD66">if</span> <span style="color: #FFD173">isinstance</span><span style="color: #D4D2C8">(transport_cls,</span> <span style="color: #73D0FF">Exception</span><span style="color: #D4D2C8">):</span>
        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_transport_exception(parser,</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">url</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">scheme,</span> <span style="color: #D4D2C8">transport_cls)</span>
    <span style="color: #FFAD66">else</span><span style="color: #D4D2C8">:</span>
        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_transport_args(parser,</span> <span style="color: #D4D2C8">transport_cls)</span>

    <span style="color: #7E8AA1"># add service arguments</span>
    <span style="color: #D4D2C8">used_aliases</span> <span style="color: #FFAD66">=</span> <span style="color: #FFD173">set</span><span style="color: #D4D2C8">()</span>
    <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">in</span> <span style="color: #FFD173">sorted</span><span style="color: #D4D2C8">(args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">services):</span>
        <span style="color: #D4D2C8">name,</span> <span style="color: #D4D2C8">alias</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parse_alias(name)</span>
        <span style="color: #D4D2C8">service_cls</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">service</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get(name)</span>

        <span style="color: #D4D2C8">alias</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">alias</span> <span style="color: #FFAD66">or</span> <span style="color: #D4D2C8">name</span>
        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">alias</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">used_aliases:</span>
            <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">ValueError</span><span style="color: #D4D2C8">(</span><span style="color: #F29E74">f</span><span style="color: #D5FF80">&#39;duplicate service alias: </span><span style="color: #95E6CB">{</span><span style="color: #D4D2C8">alias</span><span style="color: #95E6CB">}</span><span style="color: #D5FF80">&#39;</span><span style="color: #D4D2C8">)</span>
        <span style="color: #D4D2C8">used_aliases</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add(alias)</span>

        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_service_args(parser,</span> <span style="color: #D4D2C8">service_cls,</span> <span style="color: #D4D2C8">alias)</span>

    <span style="color: #7E8AA1"># collect transport and service args</span>
    <span style="color: #D4D2C8">sub_args</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">parse_args(extra_args)</span>
    <span style="color: #D4D2C8">trn_args,</span> <span style="color: #D4D2C8">svc_args</span> <span style="color: #FFAD66">=</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_prefixed_args(sub_args)</span>

    <span style="color: #D4D2C8">trn_name</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">url</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">scheme</span>
    <span style="color: #D4D2C8">trn</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">transport</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">create(args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">url,</span> <span style="color: #FFAD66">**</span><span style="color: #D4D2C8">trn_args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get(trn_name,</span> <span style="color: #D4D2C8">{}))</span>

    <span style="color: #7E8AA1"># start client or server</span>
    <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">server_mode:</span>
        <span style="color: #7E8AA1"># help</span>
        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">help:</span>
            <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">print_help()</span>
            <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">exit()</span>
        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">version</span> <span style="color: #FFAD66">is</span> <span style="color: #FFAD66">True</span><span style="color: #D4D2C8">:</span>
            <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">error(</span><span style="color: #D5FF80">&#39;expected a version string&#39;</span><span style="color: #D4D2C8">)</span>
        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">rest:</span>
            <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">error(</span><span style="color: #D5FF80">&#39;unrecognized arguments: </span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80">&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(</span><span style="color: #D5FF80">&#39; &#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">join(args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">rest)))</span>
        <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">start_server(trn,</span> <span style="color: #D4D2C8">args,</span> <span style="color: #D4D2C8">svc_args)</span>
    <span style="color: #FFAD66">else</span><span style="color: #D4D2C8">:</span>
        <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
            <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">start_client(trn,</span> <span style="color: #D4D2C8">parser,</span> <span style="color: #D4D2C8">args)</span>
        <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">Exception</span> <span style="color: #FFAD66">as</span> <span style="color: #D4D2C8">e:</span>
            <span style="color: #D4D2C8">err</span> <span style="color: #FFAD66">=</span> <span style="color: #D5FF80">&#39;</span><span style="color: #95E6CB">{}\n</span><span style="color: #D5FF80">connection required for help on remote services&#39;</span>

            <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">help:</span>
                <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">print_help()</span>
                <span style="color: #FFD173">print</span><span style="color: #D4D2C8">(err</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(e),</span> <span style="color: #D4D2C8">file</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">sys</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">stderr)</span>
                <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">exit()</span>

            <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">verbose:</span>
                <span style="color: #FFAD66">raise</span>
            <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">error(err</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(e))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.cli.Parser.print_status" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">print_status(status)</span></code>

<a href="#snekrpc.cli.Parser.print_status" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Prints the server version and status data.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/cli.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">697</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">698</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">699</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">700</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">701</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">702</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">print_status</span><span style="color: #D4D2C8">(</span><span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">status:</span> <span style="color: #FFD173">dict</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Any])</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Prints the server version and status data.&quot;&quot;&quot;</span>
    <span style="color: #7E8AA1"># TODO: abide by --format flag</span>
    <span style="color: #D4D2C8">width</span> <span style="color: #FFAD66">=</span> <span style="color: #FFD173">max</span><span style="color: #D4D2C8">(</span><span style="color: #FFD173">len</span><span style="color: #D4D2C8">(k)</span> <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">k</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">status)</span>
    <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">k,</span> <span style="color: #D4D2C8">v</span> <span style="color: #FFAD66">in</span> <span style="color: #FFD173">sorted</span><span style="color: #D4D2C8">(status</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">items()):</span>
        <span style="color: #FFD173">print</span><span style="color: #D4D2C8">(</span><span style="color: #D5FF80">&#39;{:&gt;</span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80">}: </span><span style="color: #95E6CB">{}</span><span style="color: #D5FF80">&#39;</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format(k,</span> <span style="color: #D4D2C8">width,</span> <span style="color: #D4D2C8">v</span> <span style="color: #FFAD66">or</span> <span style="color: #D5FF80">&#39;-&#39;</span><span style="color: #D4D2C8">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.cli.Parser.start_client" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">start_client(trn,</span> <span style="color: #D4D2C8">parser,</span> <span style="color: #D4D2C8">args)</span></code>

<a href="#snekrpc.cli.Parser.start_client" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Connect to the remote server and execute a command.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/cli.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">145</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">146</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">147</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">148</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">149</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">150</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">151</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">152</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">153</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">154</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">155</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">156</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">157</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">158</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">159</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">160</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">161</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">162</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">163</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">164</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">165</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">166</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">167</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">168</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">169</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">170</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">171</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">172</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">173</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">174</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">175</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">176</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">177</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">178</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">179</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">180</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">181</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">182</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">183</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">184</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">185</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">186</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">187</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">188</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">189</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">190</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">191</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">192</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">193</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">194</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">195</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">196</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">197</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">198</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">199</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">200</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">201</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">202</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">203</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">204</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">205</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">206</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">207</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">208</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">209</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">210</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">211</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">212</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">213</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">214</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">215</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">216</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">217</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">218</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">219</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">220</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">221</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">222</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">223</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">224</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">225</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">226</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">227</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">228</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">229</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">230</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">231</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">232</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">233</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">start_client</span><span style="color: #D4D2C8">(</span>
    <span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">trn:</span> <span style="color: #D4D2C8">transport</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Transport,</span> <span style="color: #D4D2C8">parser:</span> <span style="color: #D4D2C8">argparse</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ArgumentParser,</span> <span style="color: #D4D2C8">args:</span> <span style="color: #D4D2C8">Args</span>
<span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Connect to the remote server and execute a command.&quot;&quot;&quot;</span>
    <span style="color: #D4D2C8">client</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">interface</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Client(</span>
        <span style="color: #D4D2C8">trn,</span>
        <span style="color: #D4D2C8">codec</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">codec,</span>
        <span style="color: #D4D2C8">retry_count</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">retry_count,</span>
        <span style="color: #D4D2C8">retry_interval</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">retry_interval,</span>
    <span style="color: #D4D2C8">)</span>

    <span style="color: #7E8AA1"># get service metadata</span>
    <span style="color: #D4D2C8">svcs:</span> <span style="color: #FFD173">list</span><span style="color: #D4D2C8">[service</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ServiceSpec]</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span>
    <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
        <span style="color: #D4D2C8">meta</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">client</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">service(</span><span style="color: #D5FF80">&#39;_meta&#39;</span><span style="color: #D4D2C8">)</span>

        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">version:</span>
            <span style="color: #7E8AA1"># show server status and exit</span>
            <span style="color: #D4D2C8">status</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">meta</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">status()</span>
            <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">print_status(status)</span>
            <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">exit()</span>

        <span style="color: #D4D2C8">svcs</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">msgspec</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">convert(meta</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">services(),</span> <span style="color: #FFD173">list</span><span style="color: #D4D2C8">[service</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">ServiceSpec])</span>

    <span style="color: #FFAD66">except</span> <span style="color: #D4D2C8">errors</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">RemoteError</span> <span style="color: #FFAD66">as</span> <span style="color: #D4D2C8">e:</span>
        <span style="color: #FFAD66">if</span> <span style="color: #FFAD66">not</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">verbose</span> <span style="color: #FFAD66">and</span> <span style="color: #D4D2C8">e</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">==</span> <span style="color: #D5FF80">&#39;KeyError&#39;</span><span style="color: #D4D2C8">:</span>
            <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">error(</span><span style="color: #D5FF80">&#39;metadata service not available&#39;</span><span style="color: #D4D2C8">)</span>
        <span style="color: #FFAD66">raise</span>

    <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">svcs</span> <span style="color: #FFAD66">is</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
        <span style="color: #7E8AA1"># parser.error exits above, but keep type-checkers happy.</span>
        <span style="color: #FFAD66">raise</span> <span style="color: #73D0FF">AssertionError</span><span style="color: #D4D2C8">(</span><span style="color: #D5FF80">&#39;unreachable&#39;</span><span style="color: #D4D2C8">)</span>

    <span style="color: #7E8AA1"># add services</span>
    <span style="color: #D4D2C8">svc_subs</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_subparsers(title</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;remote services&#39;</span><span style="color: #D4D2C8">)</span>

    <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">svc</span> <span style="color: #FFAD66">in</span> <span style="color: #FFD173">sorted</span><span style="color: #D4D2C8">(svcs,</span> <span style="color: #D4D2C8">key</span><span style="color: #FFAD66">=lambda</span> <span style="color: #D4D2C8">s:</span> <span style="color: #D4D2C8">s</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name):</span>
        <span style="color: #D4D2C8">svc_name</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">svc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name</span>
        <span style="color: #D4D2C8">svc_desc</span> <span style="color: #FFAD66">=</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_help(svc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">doc)</span>
        <span style="color: #D4D2C8">svc_parser</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">svc_subs</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_parser(svc_name,</span> <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">svc_desc,</span> <span style="color: #D4D2C8">description</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">svc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">doc)</span>
        <span style="color: #D4D2C8">svc_parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">set_defaults(svc_name</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">svc_name)</span>

        <span style="color: #7E8AA1"># add service commands</span>
        <span style="color: #D4D2C8">cmd_subs</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">svc_parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_subparsers(title</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;commands&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">dest</span><span style="color: #FFAD66">=</span><span style="color: #D5FF80">&#39;command&#39;</span><span style="color: #D4D2C8">)</span>
        <span style="color: #D4D2C8">cmd_subs</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">required</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">True</span>

        <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">cmd</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">svc</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">commands:</span>
            <span style="color: #D4D2C8">cmd_name</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">cmd</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">name</span>
            <span style="color: #D4D2C8">cmd_desc</span> <span style="color: #FFAD66">=</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_help(cmd</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">doc)</span>
            <span style="color: #D4D2C8">cmd_parser</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">cmd_subs</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_parser(cmd_name,</span> <span style="color: #D4D2C8">help</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">cmd_desc,</span> <span style="color: #D4D2C8">description</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">cmd</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">doc)</span>
            <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_command_args(cmd_parser,</span> <span style="color: #D4D2C8">cmd)</span>
            <span style="color: #D4D2C8">cmd_parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">set_defaults(cmd_name</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">cmd_name,</span> <span style="color: #D4D2C8">cmd_meta</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">cmd)</span>

    <span style="color: #7E8AA1"># help</span>
    <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">help:</span>
        <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">print_help()</span>
        <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">exit()</span>
    <span style="color: #FFAD66">elif</span> <span style="color: #FFAD66">not</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">rest:</span>
        <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">print_usage()</span>
        <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">exit()</span>

    <span style="color: #7E8AA1"># select an output formatter</span>
    <span style="color: #D4D2C8">fmt:</span> <span style="color: #D4D2C8">Any</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span> <span style="color: #FFAD66">=</span> <span style="color: #FFAD66">None</span>
    <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
        <span style="color: #D4D2C8">fmt</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">formatter</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">create(args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">format)</span>
    <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">Exception</span> <span style="color: #FFAD66">as</span> <span style="color: #D4D2C8">e:</span>
        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">verbose:</span>
            <span style="color: #FFAD66">raise</span>
        <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">error(</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">(e))</span>
    <span style="color: #FFAD66">assert</span> <span style="color: #D4D2C8">fmt</span> <span style="color: #FFAD66">is</span> <span style="color: #FFAD66">not</span> <span style="color: #FFAD66">None</span>

    <span style="color: #7E8AA1"># get the command arguments</span>
    <span style="color: #D4D2C8">verbose</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">verbose</span>
    <span style="color: #D4D2C8">args</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parser</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">parse_args(args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">rest)</span>
    <span style="color: #D4D2C8">cmd_args,</span> <span style="color: #D4D2C8">cmd_kwargs</span> <span style="color: #FFAD66">=</span> <span style="color: #5CCFE6">self</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get_command_args(args)</span>

    <span style="color: #7E8AA1"># get the command function</span>
    <span style="color: #D4D2C8">proxy</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">client</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">service(args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">svc_name,</span> <span style="color: #D4D2C8">metadata</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">[args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">cmd_meta])</span>
    <span style="color: #D4D2C8">func</span> <span style="color: #FFAD66">=</span> <span style="color: #FFD173">getattr</span><span style="color: #D4D2C8">(proxy,</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">cmd_name)</span>

    <span style="color: #7E8AA1"># call the command</span>
    <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
        <span style="color: #D4D2C8">res</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">func(</span><span style="color: #FFAD66">*</span><span style="color: #D4D2C8">cmd_args,</span> <span style="color: #FFAD66">**</span><span style="color: #D4D2C8">cmd_kwargs)</span>
        <span style="color: #FFAD66">assert</span> <span style="color: #D4D2C8">res</span> <span style="color: #FFAD66">is</span> <span style="color: #FFAD66">not</span> <span style="color: #FFAD66">None</span>
        <span style="color: #D4D2C8">fmt</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">process(res)</span>
    <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">Exception</span> <span style="color: #FFAD66">as</span> <span style="color: #D4D2C8">e:</span>
        <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">verbose:</span>
            <span style="color: #FFAD66">raise</span>
        <span style="color: #D4D2C8">log</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">error(</span><span style="color: #D5FF80">&#39;command error: </span><span style="color: #95E6CB">%s</span><span style="color: #D5FF80">&#39;</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">e)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="snekrpc.cli.Parser.start_server" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">start_server(trn,</span> <span style="color: #D4D2C8">args,</span> <span style="color: #D4D2C8">svc_args)</span></code>

<a href="#snekrpc.cli.Parser.start_server" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Start an RPC server with the configured services.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/cli.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">235</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">236</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">237</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">238</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">239</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">240</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">241</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">242</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">243</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">244</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">245</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">246</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">247</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">248</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">249</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">250</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">251</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">252</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">253</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">254</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">255</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">256</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">257</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">start_server</span><span style="color: #D4D2C8">(</span>
    <span style="color: #5CCFE6">self</span><span style="color: #D4D2C8">,</span>
    <span style="color: #D4D2C8">trn:</span> <span style="color: #D4D2C8">transport</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Transport,</span>
    <span style="color: #D4D2C8">args:</span> <span style="color: #D4D2C8">Args,</span>
    <span style="color: #D4D2C8">svc_args:</span> <span style="color: #FFD173">dict</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #FFD173">dict</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #D4D2C8">Any]],</span>
<span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Start an RPC server with the configured services.&quot;&quot;&quot;</span>
    <span style="color: #7E8AA1"># create server</span>
    <span style="color: #D4D2C8">s</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">interface</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">Server(</span>
        <span style="color: #D4D2C8">trn,</span>
        <span style="color: #D4D2C8">codec</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">codec,</span>
        <span style="color: #D4D2C8">version</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">version,</span>
        <span style="color: #D4D2C8">remote_tracebacks</span><span style="color: #FFAD66">=</span><span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">remote_tracebacks,</span>
    <span style="color: #D4D2C8">)</span>

    <span style="color: #7E8AA1"># add services</span>
    <span style="color: #FFAD66">for</span> <span style="color: #D4D2C8">name</span> <span style="color: #FFAD66">in</span> <span style="color: #D4D2C8">args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">services:</span>
        <span style="color: #D4D2C8">name,</span> <span style="color: #D4D2C8">alias</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">parse_alias(name)</span>
        <span style="color: #D4D2C8">s_args</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">svc_args</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">get(name,</span> <span style="color: #D4D2C8">{})</span>
        <span style="color: #D4D2C8">svc</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">service</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">create(name,</span> <span style="color: #FFAD66">**</span><span style="color: #D4D2C8">s_args)</span>
        <span style="color: #D4D2C8">s</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">add_service(svc,</span> <span style="color: #D4D2C8">alias)</span>

    <span style="color: #D4D2C8">s</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">serve()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="snekrpc.cli.io_stat_mode" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">io_stat_mode()</span></code>

<a href="#snekrpc.cli.io_stat_mode" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Return whether stdout is piped, redirected, or connected to a tty.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/cli.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">723</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">724</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">725</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">726</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">727</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">728</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">729</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">730</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">731</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">io_stat_mode</span><span style="color: #D4D2C8">()</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Return whether stdout is piped, redirected, or connected to a tty.&quot;&quot;&quot;</span>
    <span style="color: #D4D2C8">mode</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">os</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">fstat(sys</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">stdout</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">fileno())</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">st_mode</span>
    <span style="color: #FFAD66">if</span> <span style="color: #D4D2C8">stat</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">S_ISFIFO(mode):</span>
        <span style="color: #FFAD66">return</span> <span style="color: #D5FF80">&#39;piped&#39;</span>
    <span style="color: #FFAD66">elif</span> <span style="color: #D4D2C8">stat</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">S_ISREG(mode):</span>
        <span style="color: #FFAD66">return</span> <span style="color: #D5FF80">&#39;redirected&#39;</span>
    <span style="color: #FFAD66">else</span><span style="color: #D4D2C8">:</span>
        <span style="color: #FFAD66">return</span> <span style="color: #D5FF80">&#39;terminal&#39;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="snekrpc.cli.main" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">main()</span></code>

<a href="#snekrpc.cli.main" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Convenient entry-point.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/cli.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">31</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">32</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">33</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">main</span><span style="color: #D4D2C8">()</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Convenient entry-point.&quot;&quot;&quot;</span>
    <span style="color: #D4D2C8">Parser()</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">main()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="snekrpc.cli.parse_alias" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #D4D2C8">parse_alias(name)</span></code>

<a href="#snekrpc.cli.parse_alias" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Split <code>name</code> into <code>module</code> and <code>alias</code> if <code>:</code> is present.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>snekrpc/cli.py</code></summary>
              <div class="highlight" style="background: #1d2331"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">710</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">711</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">712</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">713</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">714</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">715</span>
<span style="color: #3c4354; background-color: transparent; padding-left: 5px; padding-right: 5px;">716</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #FFAD66">def</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">parse_alias</span><span style="color: #D4D2C8">(name:</span> <span style="color: #FFD173">str</span><span style="color: #D4D2C8">)</span> <span style="color: #FFAD66">-&gt;</span> <span style="color: #FFD173">tuple</span><span style="color: #D4D2C8">[</span><span style="color: #FFD173">str</span><span style="color: #D4D2C8">,</span> <span style="color: #FFD173">str</span> <span style="color: #FFAD66">|</span> <span style="color: #FFAD66">None</span><span style="color: #D4D2C8">]:</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">&quot;&quot;&quot;Split ``name`` into ``module`` and ``alias`` if ``:`` is present.&quot;&quot;&quot;</span>
    <span style="color: #FFAD66">try</span><span style="color: #D4D2C8">:</span>
        <span style="color: #D4D2C8">base,</span> <span style="color: #D4D2C8">alias</span> <span style="color: #FFAD66">=</span> <span style="color: #D4D2C8">name</span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8">split(</span><span style="color: #D5FF80">&#39;:&#39;</span><span style="color: #D4D2C8">)</span>
    <span style="color: #FFAD66">except</span> <span style="color: #73D0FF">ValueError</span><span style="color: #D4D2C8">:</span>
        <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">name,</span> <span style="color: #FFAD66">None</span>
    <span style="color: #FFAD66">return</span> <span style="color: #D4D2C8">base,</span> <span style="color: #D4D2C8">alias</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>
</section>

            </main>
        </div>
        <hr><footer>
    <div class="terminal-mkdocs-footer-grid">
        <div id="terminal-mkdocs-footer-copyright-info">
             Site built with <a href="http://www.mkdocs.org">MkDocs</a> and <a href="https://github.com/ntno/mkdocs-terminal">Terminal for MkDocs</a>.
        </div>
    </div>
</footer>
    </div>

    
    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="alertdialog" aria-modal="true" aria-labelledby="searchModalLabel">
    <div class="modal-dialog modal-lg" role="search">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="searchModalLabel">Search</h5>
                <button type="button" class="close btn btn-default btn-ghost" data-dismiss="modal"><span aria-hidden="true">x</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p id="searchInputLabel">Type to start searching</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" aria-labelledby="searchInputLabel" placeholder="" id="mkdocs-search-query" title="Please enter search terms here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No document matches found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    
    
</body>

</html>